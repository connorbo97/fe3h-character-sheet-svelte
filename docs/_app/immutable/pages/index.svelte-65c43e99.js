import{_ as Os}from"../chunks/preload-helper-703ceea7.js";import{S as ms,i as ds,s as ps,F as Es,a as se,c as te,b as Z,K as ke,f as B,g as le,t as M,d as oe,G as ws,H as As,I as Ws,h as P,N as Ts,O as bs,o as _s,P as gs,l as z,w as x,m as J,n as G,x as ae,p as h,Q as H,R as ie,J as K,y as $,T as Ve,B as ee,U as xe,V as Xe,L as Bs,e as He,W as ze,E as $e,j as hs,ah as Is,ai as Ps,r as vs,u as Ls}from"../chunks/index-d5d48e27.js";import{C as Cs,D as Us,M as Ns,a as js,b as Rs,k as qs,l as Ds,m as Ms}from"../chunks/constants-56e6b6a8.js";import Fs from"./home/home.svelte-69fbd3f7.js";import Vs from"./home/header.svelte-b7c4569c.js";import{w as Xs}from"../chunks/index-675afd87.js";import{f as Hs,m as Ks,E as Ys}from"../chunks/editor-7eceae59.js";import zs from"./xp/xp.svelte-189c0797.js";import{k as me,X as Je,c as es,C as Js,E as Ne,g as ss,Y as Ge,Z as Qe,T as Gs,w as ts,_ as Qs,$ as Zs,a0 as xs,a1 as $s,a2 as et,a3 as st,a4 as tt,a5 as lt,a6 as ot,U as ce,a as nt}from"../chunks/weaponLevel-1d872777.js";import it from"./dice-editor/diceEditor.svelte-221f5e64.js";import at from"./sheet-manager/sheetManager.svelte-ef608b95.js";import rt from"./roll-chat/RollChat.svelte-4e4c2bee.js";import"./home/attackCalc.svelte-4bea1c7e.js";import"../chunks/enums-eee6a708.js";import"../chunks/utils-edd64bc1.js";import"./home/attackCalcHeader.svelte-e2ccc629.js";import"./home/attackRollModal.svelte-b7fe0a2a.js";import"../chunks/SvelteTip-cf62352a.js";import"./home/queryPicker.svelte-52650412.js";import"./home/classes.svelte-0faa5563.js";import"../chunks/categoryHeader-f8b5a27f.js";import"../chunks/pickOnePrompt-78f18453.js";import"./home/classesEntry.svelte-3d275f77.js";import"../chunks/equippedButton-566568f6.js";import"../chunks/unlockedButton-2d160252.js";import"../chunks/descriptionUtils-f5c09904.js";import"./home/combatArts.svelte-69ba7119.js";import"./home/combatArtsEntry.svelte-7665ed5e.js";import"../chunks/editor.svelte_svelte_type_style_lang-7e31c381.js";import"./home/combatSkills.svelte-5769979e.js";import"./home/combatSkillEntry.svelte-75984f45.js";import"./home/combatStats.svelte-4e2b0b76.js";import"./home/skills.svelte-4da5b5e0.js";import"./home/skillEntry.svelte-37efbec8.js";import"./home/stats.svelte-260b7822.js";/* empty css                                                    */import"./home/weapons.svelte-6e0940e1.js";import"./home/customWeaponPrompt.svelte-c6fcfd04.js";import"./home/weaponsSection.svelte-f7764e20.js";import"./roll-chat/attackEntry.svelte-3be730d3.js";import"./roll-chat/basicEntry.svelte-4272e13c.js";import"./xp/combatXPForm.svelte-b5f1157f.js";import"./xp/levelUpDescription.svelte-1025ece1.js";const ft=Xs(null);const{window:ut}=gs;function ls(e){let t,s,l,i,o,m,f,d,p,W,C,O,w,A,b,T,y,u=e[1].closeButton&&os(e);var E=e[2];function R(_){return{}}return E&&(m=new E(R())),{c(){t=z("div"),s=z("div"),l=z("div"),u&&u.c(),i=se(),o=z("div"),m&&x(m.$$.fragment),this.h()},l(_){t=J(_,"DIV",{class:!0,style:!0});var S=G(t);s=J(S,"DIV",{class:!0,style:!0});var v=G(s);l=J(v,"DIV",{class:!0,role:!0,"aria-modal":!0,"aria-label":!0,"aria-labelledby":!0,style:!0});var I=G(l);u&&u.l(I),i=te(I),o=J(I,"DIV",{id:!0,class:!0,style:!0});var U=G(o);m&&ae(m.$$.fragment,U),U.forEach(P),I.forEach(P),v.forEach(P),S.forEach(P),this.h()},h(){h(o,"id","SPECIAL_modal-content"),h(o,"class",f=H(e[1].classContent)+" svelte-1qgo808"),h(o,"style",e[9]),ie(o,"content",!e[0]),h(l,"class",d=H(e[1].classWindow)+" svelte-1qgo808"),h(l,"role","dialog"),h(l,"aria-modal","true"),h(l,"aria-label",p=e[1].ariaLabelledBy?null:e[1].ariaLabel||null),h(l,"aria-labelledby",W=e[1].ariaLabelledBy||null),h(l,"style",e[8]),ie(l,"window",!e[0]),h(s,"class",O=H(e[1].classWindowWrap)+" svelte-1qgo808"),h(s,"style",e[7]),ie(s,"wrap",!e[0]),h(t,"class",w=H(e[1].classBg)+" svelte-1qgo808"),h(t,"style",e[6]),ie(t,"bg",!e[0])},m(_,S){Z(_,t,S),K(t,s),K(s,l),u&&u.m(l,null),K(l,i),K(l,o),m&&$(m,o,null),e[48](l),e[49](s),e[50](t),b=!0,T||(y=[ke(l,"introstart",function(){Ve(e[13])&&e[13].apply(this,arguments)}),ke(l,"outrostart",function(){Ve(e[14])&&e[14].apply(this,arguments)}),ke(l,"introend",function(){Ve(e[15])&&e[15].apply(this,arguments)}),ke(l,"outroend",function(){Ve(e[16])&&e[16].apply(this,arguments)}),ke(t,"mousedown",e[20]),ke(t,"mouseup",e[21])],T=!0)},p(_,S){if(e=_,e[1].closeButton?u?(u.p(e,S),S[0]&2&&B(u,1)):(u=os(e),u.c(),B(u,1),u.m(l,i)):u&&(le(),M(u,1,1,()=>{u=null}),oe()),E!==(E=e[2])){if(m){le();const v=m;M(v.$$.fragment,1,0,()=>{ee(v,1)}),oe()}E?(m=new E(R()),x(m.$$.fragment),B(m.$$.fragment,1),$(m,o,null)):m=null}(!b||S[0]&2&&f!==(f=H(e[1].classContent)+" svelte-1qgo808"))&&h(o,"class",f),(!b||S[0]&512)&&h(o,"style",e[9]),S[0]&3&&ie(o,"content",!e[0]),(!b||S[0]&2&&d!==(d=H(e[1].classWindow)+" svelte-1qgo808"))&&h(l,"class",d),(!b||S[0]&2&&p!==(p=e[1].ariaLabelledBy?null:e[1].ariaLabel||null))&&h(l,"aria-label",p),(!b||S[0]&2&&W!==(W=e[1].ariaLabelledBy||null))&&h(l,"aria-labelledby",W),(!b||S[0]&256)&&h(l,"style",e[8]),S[0]&3&&ie(l,"window",!e[0]),(!b||S[0]&2&&O!==(O=H(e[1].classWindowWrap)+" svelte-1qgo808"))&&h(s,"class",O),(!b||S[0]&128)&&h(s,"style",e[7]),S[0]&3&&ie(s,"wrap",!e[0]),(!b||S[0]&2&&w!==(w=H(e[1].classBg)+" svelte-1qgo808"))&&h(t,"class",w),(!b||S[0]&64)&&h(t,"style",e[6]),S[0]&3&&ie(t,"bg",!e[0])},i(_){b||(B(u),m&&B(m.$$.fragment,_),xe(()=>{C||(C=Xe(l,e[12],e[1].transitionWindowProps,!0)),C.run(1)}),xe(()=>{A||(A=Xe(t,e[11],e[1].transitionBgProps,!0)),A.run(1)}),b=!0)},o(_){M(u),m&&M(m.$$.fragment,_),C||(C=Xe(l,e[12],e[1].transitionWindowProps,!1)),C.run(0),A||(A=Xe(t,e[11],e[1].transitionBgProps,!1)),A.run(0),b=!1},d(_){_&&P(t),u&&u.d(),m&&ee(m),e[48](null),_&&C&&C.end(),e[49](null),e[50](null),_&&A&&A.end(),T=!1,Bs(y)}}}function os(e){let t,s,l,i,o;const m=[mt,ct],f=[];function d(p,W){return W[0]&2&&(t=null),t==null&&(t=!!p[17](p[1].closeButton)),t?0:1}return s=d(e,[-1,-1,-1]),l=f[s]=m[s](e),{c(){l.c(),i=He()},l(p){l.l(p),i=He()},m(p,W){f[s].m(p,W),Z(p,i,W),o=!0},p(p,W){let C=s;s=d(p,W),s===C?f[s].p(p,W):(le(),M(f[C],1,1,()=>{f[C]=null}),oe(),l=f[s],l?l.p(p,W):(l=f[s]=m[s](p),l.c()),B(l,1),l.m(i.parentNode,i))},i(p){o||(B(l),o=!0)},o(p){M(l),o=!1},d(p){f[s].d(p),p&&P(i)}}}function ct(e){let t,s,l,i;return{c(){t=z("button"),this.h()},l(o){t=J(o,"BUTTON",{class:!0,"aria-label":!0,style:!0}),G(t).forEach(P),this.h()},h(){h(t,"class",s=H(e[1].classCloseButton)+" svelte-1qgo808"),h(t,"aria-label","Close modal"),h(t,"style",e[10]),ie(t,"close",!e[0])},m(o,m){Z(o,t,m),l||(i=ke(t,"click",e[18]),l=!0)},p(o,m){m[0]&2&&s!==(s=H(o[1].classCloseButton)+" svelte-1qgo808")&&h(t,"class",s),m[0]&1024&&h(t,"style",o[10]),m[0]&3&&ie(t,"close",!o[0])},i:$e,o:$e,d(o){o&&P(t),l=!1,i()}}}function mt(e){let t,s,l;var i=e[1].closeButton;function o(m){return{props:{onClose:m[18]}}}return i&&(t=new i(o(e))),{c(){t&&x(t.$$.fragment),s=He()},l(m){t&&ae(t.$$.fragment,m),s=He()},m(m,f){t&&$(t,m,f),Z(m,s,f),l=!0},p(m,f){if(i!==(i=m[1].closeButton)){if(t){le();const d=t;M(d.$$.fragment,1,0,()=>{ee(d,1)}),oe()}i?(t=new i(o(m)),x(t.$$.fragment),B(t.$$.fragment,1),$(t,s.parentNode,s)):t=null}},i(m){l||(t&&B(t.$$.fragment,m),l=!0)},o(m){t&&M(t.$$.fragment,m),l=!1},d(m){m&&P(s),t&&ee(t,m)}}}function dt(e){let t,s,l,i,o=e[2]&&ls(e);const m=e[47].default,f=Es(m,e,e[46],null);return{c(){o&&o.c(),t=se(),f&&f.c()},l(d){o&&o.l(d),t=te(d),f&&f.l(d)},m(d,p){o&&o.m(d,p),Z(d,t,p),f&&f.m(d,p),s=!0,l||(i=ke(ut,"keydown",e[19]),l=!0)},p(d,p){d[2]?o?(o.p(d,p),p[0]&4&&B(o,1)):(o=ls(d),o.c(),B(o,1),o.m(t.parentNode,t)):o&&(le(),M(o,1,1,()=>{o=null}),oe()),f&&f.p&&(!s||p[1]&32768)&&ws(f,m,d,d[46],s?Ws(m,d[46],p,null):As(d[46]),null)},i(d){s||(B(o),B(f,d),s=!0)},o(d){M(o),M(f,d),s=!1},d(d){o&&o.d(d),d&&P(t),f&&f.d(d),l=!1,i()}}}function pt(e,t={}){return function(l){return new e(Object.assign(Object.assign({},l),{props:Object.assign(Object.assign({},t),l.props)}))}}function bt(e,t,s){let{$$slots:l={},$$scope:i}=t;const o=Ts(),m=hs;let{show:f=null}=t,{key:d=Cs.MODAL}=t,{ariaLabel:p=null}=t,{ariaLabelledBy:W=null}=t,{closeButton:C=!0}=t,{closeOnEsc:O=!0}=t,{closeOnOuterClick:w=!0}=t,{styleBg:A={}}=t,{styleWindowWrap:b={}}=t,{styleWindow:T={}}=t,{styleContent:y={}}=t,{styleCloseButton:u={}}=t,{classBg:E=null}=t,{classWindowWrap:R=null}=t,{classWindow:_=null}=t,{classContent:S=null}=t,{classCloseButton:v=null}=t,{unstyled:I=!1}=t,{setContext:U=m}=t,{transitionBg:q=Hs}=t,{transitionBgProps:L={duration:250}}=t,{transitionWindow:N=q}=t,{transitionWindowProps:F=L}=t,{disableFocusTrap:V=!1}=t;const X={ariaLabel:p,ariaLabelledBy:W,closeButton:C,closeOnEsc:O,closeOnOuterClick:w,styleBg:A,styleWindowWrap:b,styleWindow:T,styleContent:y,styleCloseButton:u,classBg:E,classWindowWrap:R,classWindow:_,classContent:S,classCloseButton:v,transitionBg:q,transitionBgProps:L,transitionWindow:N,transitionWindowProps:F,disableFocusTrap:V,unstyled:I};let n=Object.assign({},X),r=null,Y,g,ne,re,de,pe,be,_e,we,Be,Ie,Pe,ve,Ke,je;const Ze=a=>a.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase(),ye=a=>a?Object.keys(a).reduce((ue,c)=>`${ue}; ${Ze(c)}: ${a[c]}`,""):"",Re=a=>!!(a&&a.constructor&&a.call&&a.apply),qe=()=>{s(6,de=ye(Object.assign({},{width:window.innerWidth,height:window.innerHeight},n.styleBg))),s(7,pe=ye(n.styleWindowWrap)),s(8,be=ye(n.styleWindow)),s(9,_e=ye(n.styleContent)),s(10,we=ye(n.styleCloseButton)),s(11,Be=n.transitionBg),s(12,Ie=n.transitionWindow)},ge=()=>{};let Le=ge,D=ge,Ae=ge,he=ge;const Ce=(a,ue={},c={},k={})=>{s(2,r=pt(a,ue)),s(1,n=Object.assign(Object.assign({},X),c)),qe();const j=document.getElementById("SPECIAL_modal-content");if(j)for(;j.firstChild;)j.removeChild(j.firstChild);De(),s(13,Le=Q=>{k.onOpen&&k.onOpen(Q),o("open"),o("opening")}),s(14,D=Q=>{k.onClose&&k.onClose(Q),ue.SPECIAL_callOnClose&&ue.SPECIAL_callOnClose(),o("close"),o("closing")}),s(15,Ae=Q=>{k.onOpened&&k.onOpened(Q),o("opened")}),s(16,he=Q=>{k.onClosed&&k.onClosed(Q),o("closed")})},fe=(a={})=>{!r||(s(14,D=a.onClose||D),s(16,he=a.onClosed||he),s(2,r=null),Ye())},Se=a=>{if(n.closeOnEsc&&r&&a.key==="Escape"&&(a.preventDefault(),fe()),r&&a.key==="Tab"&&!n.disableFocusTrap){const ue=ne.querySelectorAll("*"),c=Array.from(ue).filter(j=>j.tabIndex>=0);let k=c.indexOf(document.activeElement);k===-1&&a.shiftKey&&(k=0),k+=c.length+(a.shiftKey?-1:1),k%=c.length,c[k].focus(),a.preventDefault()}},Oe=a=>{n.closeOnOuterClick&&(a.target===Y||a.target===g)&&(je=a.target)},Ue=a=>{n.closeOnOuterClick&&a.target===je&&(a.preventDefault(),fe())},De=()=>{re=window.scrollY,Pe=document.body.style.position,ve=document.body.style.overflow,Ke=document.body.style.width,document.body.style.position="fixed",document.body.style.top=`-${re}px`,document.body.style.overflow="hidden",document.body.style.width="100%"},Ye=()=>{document.body.style.position=Pe||"",document.body.style.top="",document.body.style.overflow=ve||"",document.body.style.width=Ke||"",window.scrollTo(0,re)};U(d,{open:Ce,close:fe});let We=!1;bs(()=>{We&&fe()}),_s(()=>{s(45,We=!0)});function Me(a){ze[a?"unshift":"push"](()=>{ne=a,s(5,ne)})}function Fe(a){ze[a?"unshift":"push"](()=>{g=a,s(4,g)})}function Te(a){ze[a?"unshift":"push"](()=>{Y=a,s(3,Y)})}return e.$$set=a=>{"show"in a&&s(22,f=a.show),"key"in a&&s(23,d=a.key),"ariaLabel"in a&&s(24,p=a.ariaLabel),"ariaLabelledBy"in a&&s(25,W=a.ariaLabelledBy),"closeButton"in a&&s(26,C=a.closeButton),"closeOnEsc"in a&&s(27,O=a.closeOnEsc),"closeOnOuterClick"in a&&s(28,w=a.closeOnOuterClick),"styleBg"in a&&s(29,A=a.styleBg),"styleWindowWrap"in a&&s(30,b=a.styleWindowWrap),"styleWindow"in a&&s(31,T=a.styleWindow),"styleContent"in a&&s(32,y=a.styleContent),"styleCloseButton"in a&&s(33,u=a.styleCloseButton),"classBg"in a&&s(34,E=a.classBg),"classWindowWrap"in a&&s(35,R=a.classWindowWrap),"classWindow"in a&&s(36,_=a.classWindow),"classContent"in a&&s(37,S=a.classContent),"classCloseButton"in a&&s(38,v=a.classCloseButton),"unstyled"in a&&s(0,I=a.unstyled),"setContext"in a&&s(39,U=a.setContext),"transitionBg"in a&&s(40,q=a.transitionBg),"transitionBgProps"in a&&s(41,L=a.transitionBgProps),"transitionWindow"in a&&s(42,N=a.transitionWindow),"transitionWindowProps"in a&&s(43,F=a.transitionWindowProps),"disableFocusTrap"in a&&s(44,V=a.disableFocusTrap),"$$scope"in a&&s(46,i=a.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&4194304|e.$$.dirty[1]&16384&&We&&(Re(f)?Ce(f):fe())},[I,n,r,Y,g,ne,de,pe,be,_e,we,Be,Ie,Le,D,Ae,he,Re,fe,Se,Oe,Ue,f,d,p,W,C,O,w,A,b,T,y,u,E,R,_,S,v,U,q,L,N,F,V,We,i,l,Me,Fe,Te]}class _t extends ms{constructor(t){super(),ds(this,t,bt,dt,ps,{show:22,key:23,ariaLabel:24,ariaLabelledBy:25,closeButton:26,closeOnEsc:27,closeOnOuterClick:28,styleBg:29,styleWindowWrap:30,styleWindow:31,styleContent:32,styleCloseButton:33,classBg:34,classWindowWrap:35,classWindow:36,classContent:37,classCloseButton:38,unstyled:0,setContext:39,transitionBg:40,transitionBgProps:41,transitionWindow:42,transitionWindowProps:43,disableFocusTrap:44},null,[-1,-1,-1])}}const gt=(e,t)=>ht(e.unlockedClasses,e.customWeapons,e.classXP,e.weaponXP,t),ht=Ks((e,t,s,l,i)=>{var b,T;const o=Array.from(Gs),m=new Set(Object.keys(t)),f=new Set(Object.keys(((T=(b=me[i])==null?void 0:b.whenEquipped)==null?void 0:T.weapons)||{})),d=new Set;e.forEach(y=>{var E,R,_,S,v;Object.keys(((R=(E=me[y])==null?void 0:E.unlocks)==null?void 0:R.weapons)||{}).forEach(I=>d.add(I));const u=(S=(_=me[y])==null?void 0:_.whenMastered)==null?void 0:S.weapons;u&&((v=s==null?void 0:s[y])==null?void 0:v.mastered)&&Object.keys(u).forEach(I=>d.add(I))}),m.delete("pickOne"),f.delete("pickOne"),d.delete("pickOne");const p=Object.keys(l).reduce((y,u)=>{const{level:E}=l[u]||{},R=Je[u],_=E||Ge.E;if(!_)return y;let S=1/0;return Qe.filter((I,U)=>(_===I&&(S=U),U<=S)).forEach(I=>{var q,L;const U=R[I];(q=U.removes)!=null&&q.weapons&&Object.keys(U.removes.weapons).forEach(N=>y.delete(N)),(L=U.unlocks)!=null&&L.weapons&&Object.keys(U.unlocks.weapons).forEach(N=>y.add(N))}),y},new Set),W=new Set([...o,...m,...f,...d,...p]),C=Object.keys(t).reduce((y,u)=>(y[u]={...ts[u],...y[u]},y),{...t}),O={...ts,...C},w=Object.keys(O).reduce((y,u)=>(y[u]=O[u].label,y),{}),A=Object.keys(O).reduce((y,u)=>(y[u]=O[u].type,y),{});return{customSet:m,equippedClassSet:f,classUnlockSet:d,fullSet:W,fullArray:Array.from(W),fullFeatures:O,weaponsToLabel:w,weaponsToType:A}}),Ct=(e,t,s,l)=>St(e.unlockedClasses,e.customCombatSkills,e.classXP,e.weaponXP,t,s,l),St=(e,t,s,l,i,o,m)=>{var w,A;const f=new Set(Object.keys(t)),d=new Set(Object.keys(((A=(w=me[i])==null?void 0:w.whenEquipped)==null?void 0:A.combatSkills)||{})),p=new Set;e.forEach(b=>{var y,u,E,R,_;Object.keys(((u=(y=me[b])==null?void 0:y.unlocks)==null?void 0:u.combatSkills)||{}).forEach(S=>p.add(S));const T=(R=(E=me[b])==null?void 0:E.whenMastered)==null?void 0:R.combatSkills;T&&((_=s==null?void 0:s[b])==null?void 0:_.mastered)&&Object.keys(T).forEach(S=>p.add(S))});const W=Object.keys(l).reduce((b,T)=>{const{level:y}=l[T]||{},u=Je[T],E=y||Ge.E;if(!E)return b;let R=1/0;return Qe.filter((S,v)=>(E===S&&(R=v),v<=R)).forEach(S=>{var I,U;const v=u[S];(I=v.removes)!=null&&I.combatSkills&&Object.keys(v.removes.combatSkills).forEach(q=>b.delete(q)),(U=v.unlocks)!=null&&U.combatSkills&&Object.keys(v.unlocks.combatSkills).forEach(q=>b.add(q))}),b},new Set),C=new Set([...f,...d,...p,...W]);o.forEach(b=>{C.has(b)||m(b)});const O=Object.keys(t).reduce((b,T)=>(b[T]={...es[T],...b[T]},b),{...t});return{customSet:f,equippedClassSet:d,classUnlockSet:p,weaponXPLevelSkillSet:W,fullSet:C,fullArray:Array.from(C).sort(),fullFeatures:{...es,...O}}},kt=(e,t,s)=>yt(e.unlockedClasses,e.customCombatArts,e.classXP,e.weaponXP,t,s),yt=(e,t,s,l,i,o)=>{var T,y;const m=[],f=new Set(Object.keys(t)),d=new Set(Object.keys(((y=(T=me[i])==null?void 0:T.whenEquipped)==null?void 0:y.combatArts)||{})),p=new Set;e.forEach(u=>{var R,_,S,v,I;Object.keys(((_=(R=me[u])==null?void 0:R.unlocks)==null?void 0:_.combatArts)||{}).forEach(U=>p.add(U));const E=(v=(S=me[u])==null?void 0:S.whenMastered)==null?void 0:v.combatArts;E&&((I=s==null?void 0:s[u])==null?void 0:I.mastered)&&Object.keys(E).forEach(U=>p.add(U))});const W=Object.keys(l).reduce((u,E)=>{const{level:R}=l[E]||{},_=Je[E],S=R||Ge.E;if(!S)return u;let v=1/0;return Qe.filter((U,q)=>(S===U&&(v=q),q<=v)).forEach(U=>{var L;const q=_[U];(L=q.unlocks)!=null&&L.combatArts&&Object.keys(q.unlocks.combatArts).forEach(N=>u.add(N))}),u},new Set),C=new Set([...m,...f,...d,...p,...W,...o.has(Js.GRAPPLER)?[Ne.REPOSITION,Ne.SWAP,Ne.PULL_BACK,Ne.SHOVE]:[]]),O=Object.keys(t).reduce((u,E)=>(u[E]={...ss[E],...u[E]},u),{...t}),w={...ss,...O},A=Object.keys(Ne),b=Array.from(C).sort((u,E)=>{const R=A.indexOf(u),_=A.indexOf(E);return R<=_?-1:1});return{customSet:f,equippedClassSet:d,classUnlockSet:p,fullSet:C,fullArray:b,fullFeatures:w}};var Ot="firebase",Et="9.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qs(Ot,Et,"app");const{document:Ee}=gs;function ns(e){let t,s;return t=new _t({props:{show:e[53],$$slots:{default:[wt]},$$scope:{ctx:e}}}),{c(){x(t.$$.fragment)},l(l){ae(t.$$.fragment,l)},m(l,i){$(t,l,i),s=!0},p(l,i){const o={};i[1]&4194304&&(o.show=l[53]),i[0]&2147352575|i[1]&4194303|i[2]&512&&(o.$$scope={dirty:i,ctx:l}),t.$set(o)},i(l){s||(B(t.$$.fragment,l),s=!0)},o(l){M(t.$$.fragment,l),s=!1},d(l){ee(t,l)}}}function is(e){let t,s;return t=new zs({props:{unlockedClasses:e[7],classXP:e[6],weaponXP:e[12],onUpdateClassXP:e[33],onUpdateWeaponXP:e[34],customCombatArts:e[47],customCombatSkills:e[48],customWeapons:e[49],playerSkillProficiency:e[15],playerSkillBonus:e[50],playerStats:e[51],playerName:e[16],onUpdatePlayerStats:e[44],onUpdateCustomCombatArts:e[29],onUpdateCustomCombatSkills:e[28],onUpdateCustomWeapons:e[30],equippedClass:e[9]}}),{c(){x(t.$$.fragment)},l(l){ae(t.$$.fragment,l)},m(l,i){$(t,l,i),s=!0},p(l,i){const o={};i[0]&128&&(o.unlockedClasses=l[7]),i[0]&64&&(o.classXP=l[6]),i[0]&4096&&(o.weaponXP=l[12]),i[1]&4&&(o.onUpdateClassXP=l[33]),i[1]&8&&(o.onUpdateWeaponXP=l[34]),i[1]&65536&&(o.customCombatArts=l[47]),i[1]&131072&&(o.customCombatSkills=l[48]),i[1]&262144&&(o.customWeapons=l[49]),i[0]&32768&&(o.playerSkillProficiency=l[15]),i[1]&524288&&(o.playerSkillBonus=l[50]),i[1]&1048576&&(o.playerStats=l[51]),i[0]&65536&&(o.playerName=l[16]),i[1]&8192&&(o.onUpdatePlayerStats=l[44]),i[0]&536870912&&(o.onUpdateCustomCombatArts=l[29]),i[0]&268435456&&(o.onUpdateCustomCombatSkills=l[28]),i[0]&1073741824&&(o.onUpdateCustomWeapons=l[30]),i[0]&512&&(o.equippedClass=l[9]),t.$set(o)},i(l){s||(B(t.$$.fragment,l),s=!0)},o(l){M(t.$$.fragment,l),s=!1},d(l){ee(t,l)}}}function as(e){let t,s;return t=new Ys({props:{fullSheet:e[0],onChangeSheet:e[45]}}),{c(){x(t.$$.fragment)},l(l){ae(t.$$.fragment,l)},m(l,i){$(t,l,i),s=!0},p(l,i){const o={};i[0]&1&&(o.fullSheet=l[0]),i[1]&16384&&(o.onChangeSheet=l[45]),t.$set(o)},i(l){s||(B(t.$$.fragment,l),s=!0)},o(l){M(t.$$.fragment,l),s=!1},d(l){ee(t,l)}}}function rs(e){let t,s;return t=new it({}),{c(){x(t.$$.fragment)},l(l){ae(t.$$.fragment,l)},m(l,i){$(t,l,i),s=!0},i(l){s||(B(t.$$.fragment,l),s=!0)},o(l){M(t.$$.fragment,l),s=!1},d(l){ee(t,l)}}}function fs(e){let t,s;return t=new at({props:{onAddSheet:e[27],otherSheetNames:e[3],curSheet:e[2],onChangeCurSheet:e[54]}}),{c(){x(t.$$.fragment)},l(l){ae(t.$$.fragment,l)},m(l,i){$(t,l,i),s=!0},p(l,i){const o={};i[0]&134217728&&(o.onAddSheet=l[27]),i[0]&8&&(o.otherSheetNames=l[3]),i[0]&4&&(o.curSheet=l[2]),t.$set(o)},i(l){s||(B(t.$$.fragment,l),s=!0)},o(l){M(t.$$.fragment,l),s=!1},d(l){ee(t,l)}}}function us(e){let t,s;return t=new rt({props:{chatEntries:e[4],spoilersOn:e[5],toggleSpoilersOn:e[23],alreadyRevealed:e[22],setAlreadyRevealed:e[55]}}),{c(){x(t.$$.fragment)},l(l){ae(t.$$.fragment,l)},m(l,i){$(t,l,i),s=!0},p(l,i){const o={};i[0]&16&&(o.chatEntries=l[4]),i[0]&32&&(o.spoilersOn=l[5]),i[0]&8388608&&(o.toggleSpoilersOn=l[23]),i[0]&4194304&&(o.alreadyRevealed=l[22]),t.$set(o)},i(l){s||(B(t.$$.fragment,l),s=!0)},o(l){M(t.$$.fragment,l),s=!1},d(l){ee(t,l)}}}function wt(e){let t,s,l,i,o,m,f,d,p,W,C,O,w,A,b,T,y,u,E,R,_,S,v,I,U,q;o=new Vs({props:{playerName:e[16],onUpdatePlayerName:e[43],fullSheet:e[0],onChangePage:e[35],currentPage:e[20],homeMode:e[21],toggleHomeMode:e[52],otherSheetNames:e[3],curSheet:e[2],onChangeCurSheet:e[54]}}),p=new Fs({props:{playerName:e[16],homeMode:e[21],allWeapons:e[26],allCombatSkills:e[8],allCombatArts:e[25],playerStats:e[51],onUpdatePlayerStats:e[44],playerSkillBonus:e[50],playerSkillProficiency:e[15],onToggleSkillProficiency:e[42],equippedWeapons:e[13],onToggleEquippedWeapons:e[37],equippedCombatArts:e[14],onToggleCombatArts:e[38],equippedClass:e[9],setEquippedClass:e[41],equippedCombatSkills:e[11],onToggleCombatSkill:e[10],unlockedClasses:e[7],onUpdateUnlockedClasses:e[36],masteredClasses:e[24],playerCrest:e[46],onUpdateCrest:e[32],selectedCombatArt:e[18],setSelectedCombatArt:e[39],selectedWeapon:e[19],setSelectedWeapon:e[40],weaponUses:e[1],onUpdateWeaponUses:e[31],customCombatSkills:e[48],onUpdateCustomCombatSkills:e[28],customWeapons:e[49],onUpdateCustomWeapons:e[30],customCombatArts:e[47],onUpdateCustomCombatArts:e[29],chatEntries:e[4],spoilersOn:e[5],toggleSpoilersOn:e[23],alreadyRevealed:e[22],setAlreadyRevealed:e[55]}});let L=e[20]==="XP"&&is(e),N=e[20]==="EDITOR"&&as(e),F=e[20]==="DICE_EDITOR"&&rs(),V=e[20]==="OTHER_SHEETS"&&fs(e),X=e[20]==="ROLLS"&&us(e);return{c(){t=z("div"),s=z("span"),l=se(),i=z("div"),x(o.$$.fragment),m=se(),f=z("div"),d=z("div"),x(p.$$.fragment),C=se(),O=z("div"),L&&L.c(),A=se(),b=z("div"),N&&N.c(),y=se(),u=z("div"),F&&F.c(),R=se(),_=z("div"),V&&V.c(),v=se(),I=z("div"),X&&X.c(),this.h()},l(n){t=J(n,"DIV",{id:!0,class:!0});var r=G(t);s=J(r,"SPAN",{id:!0,class:!0}),G(s).forEach(P),r.forEach(P),l=te(n),i=J(n,"DIV",{class:!0});var Y=G(i);ae(o.$$.fragment,Y),Y.forEach(P),m=te(n),f=J(n,"DIV",{class:!0});var g=G(f);d=J(g,"DIV",{class:!0});var ne=G(d);ae(p.$$.fragment,ne),ne.forEach(P),C=te(g),O=J(g,"DIV",{class:!0});var re=G(O);L&&L.l(re),re.forEach(P),A=te(g),b=J(g,"DIV",{class:!0});var de=G(b);N&&N.l(de),de.forEach(P),y=te(g),u=J(g,"DIV",{class:!0});var pe=G(u);F&&F.l(pe),pe.forEach(P),R=te(g),_=J(g,"DIV",{class:!0});var be=G(_);V&&V.l(be),be.forEach(P),v=te(g),I=J(g,"DIV",{class:!0});var _e=G(I);X&&X.l(_e),_e.forEach(P),g.forEach(P),this.h()},h(){h(s,"id","dice-box-result"),h(s,"class","svelte-1bknir5"),h(t,"id","dice-box"),h(t,"class","svelte-1bknir5"),h(i,"class","header svelte-1bknir5"),h(d,"class",W=H(e[20]==="HOME"?"":"invisible")+" svelte-1bknir5"),h(O,"class",w=H(e[20]==="XP"?"":"invisible")+" svelte-1bknir5"),h(b,"class",T=H(e[20]==="EDITOR"?"":"invisible")+" svelte-1bknir5"),h(u,"class",E=H(e[20]==="DICE_EDITOR"?"":"invisible")+" svelte-1bknir5"),h(_,"class",S=H(e[20]==="OTHER_SHEETS"?"":"invisible")+" svelte-1bknir5"),h(I,"class",U=H(e[20]==="ROLLS"?"":"invisible")+" svelte-1bknir5"),h(f,"class","content svelte-1bknir5")},m(n,r){Z(n,t,r),K(t,s),Z(n,l,r),Z(n,i,r),$(o,i,null),Z(n,m,r),Z(n,f,r),K(f,d),$(p,d,null),K(f,C),K(f,O),L&&L.m(O,null),K(f,A),K(f,b),N&&N.m(b,null),K(f,y),K(f,u),F&&F.m(u,null),K(f,R),K(f,_),V&&V.m(_,null),K(f,v),K(f,I),X&&X.m(I,null),q=!0},p(n,r){const Y={};r[0]&65536&&(Y.playerName=n[16]),r[1]&4096&&(Y.onUpdatePlayerName=n[43]),r[0]&1&&(Y.fullSheet=n[0]),r[1]&16&&(Y.onChangePage=n[35]),r[0]&1048576&&(Y.currentPage=n[20]),r[0]&2097152&&(Y.homeMode=n[21]),r[1]&2097152&&(Y.toggleHomeMode=n[52]),r[0]&8&&(Y.otherSheetNames=n[3]),r[0]&4&&(Y.curSheet=n[2]),o.$set(Y);const g={};r[0]&65536&&(g.playerName=n[16]),r[0]&2097152&&(g.homeMode=n[21]),r[0]&67108864&&(g.allWeapons=n[26]),r[0]&256&&(g.allCombatSkills=n[8]),r[0]&33554432&&(g.allCombatArts=n[25]),r[1]&1048576&&(g.playerStats=n[51]),r[1]&8192&&(g.onUpdatePlayerStats=n[44]),r[1]&524288&&(g.playerSkillBonus=n[50]),r[0]&32768&&(g.playerSkillProficiency=n[15]),r[1]&2048&&(g.onToggleSkillProficiency=n[42]),r[0]&8192&&(g.equippedWeapons=n[13]),r[1]&64&&(g.onToggleEquippedWeapons=n[37]),r[0]&16384&&(g.equippedCombatArts=n[14]),r[1]&128&&(g.onToggleCombatArts=n[38]),r[0]&512&&(g.equippedClass=n[9]),r[1]&1024&&(g.setEquippedClass=n[41]),r[0]&2048&&(g.equippedCombatSkills=n[11]),r[0]&1024&&(g.onToggleCombatSkill=n[10]),r[0]&128&&(g.unlockedClasses=n[7]),r[1]&32&&(g.onUpdateUnlockedClasses=n[36]),r[0]&16777216&&(g.masteredClasses=n[24]),r[1]&32768&&(g.playerCrest=n[46]),r[1]&2&&(g.onUpdateCrest=n[32]),r[0]&262144&&(g.selectedCombatArt=n[18]),r[1]&256&&(g.setSelectedCombatArt=n[39]),r[0]&524288&&(g.selectedWeapon=n[19]),r[1]&512&&(g.setSelectedWeapon=n[40]),r[0]&2&&(g.weaponUses=n[1]),r[1]&1&&(g.onUpdateWeaponUses=n[31]),r[1]&131072&&(g.customCombatSkills=n[48]),r[0]&268435456&&(g.onUpdateCustomCombatSkills=n[28]),r[1]&262144&&(g.customWeapons=n[49]),r[0]&1073741824&&(g.onUpdateCustomWeapons=n[30]),r[1]&65536&&(g.customCombatArts=n[47]),r[0]&536870912&&(g.onUpdateCustomCombatArts=n[29]),r[0]&16&&(g.chatEntries=n[4]),r[0]&32&&(g.spoilersOn=n[5]),r[0]&8388608&&(g.toggleSpoilersOn=n[23]),r[0]&4194304&&(g.alreadyRevealed=n[22]),p.$set(g),(!q||r[0]&1048576&&W!==(W=H(n[20]==="HOME"?"":"invisible")+" svelte-1bknir5"))&&h(d,"class",W),n[20]==="XP"?L?(L.p(n,r),r[0]&1048576&&B(L,1)):(L=is(n),L.c(),B(L,1),L.m(O,null)):L&&(le(),M(L,1,1,()=>{L=null}),oe()),(!q||r[0]&1048576&&w!==(w=H(n[20]==="XP"?"":"invisible")+" svelte-1bknir5"))&&h(O,"class",w),n[20]==="EDITOR"?N?(N.p(n,r),r[0]&1048576&&B(N,1)):(N=as(n),N.c(),B(N,1),N.m(b,null)):N&&(le(),M(N,1,1,()=>{N=null}),oe()),(!q||r[0]&1048576&&T!==(T=H(n[20]==="EDITOR"?"":"invisible")+" svelte-1bknir5"))&&h(b,"class",T),n[20]==="DICE_EDITOR"?F?r[0]&1048576&&B(F,1):(F=rs(),F.c(),B(F,1),F.m(u,null)):F&&(le(),M(F,1,1,()=>{F=null}),oe()),(!q||r[0]&1048576&&E!==(E=H(n[20]==="DICE_EDITOR"?"":"invisible")+" svelte-1bknir5"))&&h(u,"class",E),n[20]==="OTHER_SHEETS"?V?(V.p(n,r),r[0]&1048576&&B(V,1)):(V=fs(n),V.c(),B(V,1),V.m(_,null)):V&&(le(),M(V,1,1,()=>{V=null}),oe()),(!q||r[0]&1048576&&S!==(S=H(n[20]==="OTHER_SHEETS"?"":"invisible")+" svelte-1bknir5"))&&h(_,"class",S),n[20]==="ROLLS"?X?(X.p(n,r),r[0]&1048576&&B(X,1)):(X=us(n),X.c(),B(X,1),X.m(I,null)):X&&(le(),M(X,1,1,()=>{X=null}),oe()),(!q||r[0]&1048576&&U!==(U=H(n[20]==="ROLLS"?"":"invisible")+" svelte-1bknir5"))&&h(I,"class",U)},i(n){q||(B(o.$$.fragment,n),B(p.$$.fragment,n),B(L),B(N),B(F),B(V),B(X),q=!0)},o(n){M(o.$$.fragment,n),M(p.$$.fragment,n),M(L),M(N),M(F),M(V),M(X),q=!1},d(n){n&&P(t),n&&P(l),n&&P(i),ee(o),n&&P(m),n&&P(f),ee(p),L&&L.d(),N&&N.d(),F&&F.d(),V&&V.d(),X&&X.d()}}}function cs(e){let t,s;return{c(){t=z("div"),s=vs("Loading"),this.h()},l(l){t=J(l,"DIV",{class:!0});var i=G(t);s=Ls(i,"Loading"),i.forEach(P),this.h()},h(){h(t,"class","not-ready svelte-1bknir5")},m(l,i){Z(l,t,i),K(t,s)},d(l){l&&P(t)}}}function At(e){let t,s,l,i,o,m,f,d,p,W;Ee.title=o=e[16];let C=e[17]&&ns(e),O=!e[17]&&cs();return{c(){t=z("link"),s=z("link"),l=z("link"),i=z("link"),m=se(),f=z("div"),C&&C.c(),d=se(),O&&O.c(),this.h()},l(w){const A=Is('[data-svelte="svelte-18uo9c5"]',Ee.head);t=J(A,"LINK",{rel:!0,href:!0}),s=J(A,"LINK",{rel:!0,href:!0}),l=J(A,"LINK",{href:!0,rel:!0}),i=J(A,"LINK",{rel:!0,type:!0,href:!0}),A.forEach(P),m=te(w),f=J(w,"DIV",{class:!0});var b=G(f);C&&C.l(b),d=te(b),O&&O.l(b),b.forEach(P),this.h()},h(){h(t,"rel","preconnect"),h(t,"href","https://fonts.googleapis.com"),h(s,"rel","preconnect"),h(s,"href","https://fonts.gstatic.com"),h(l,"href","https://fonts.googleapis.com/css2?family=EB+Garamond:wght@400;500;600;700&family=Ibarra+Real+Nova:wght@400;500;700&display=swap&family=Great+Vibes&display=swap"),h(l,"rel","stylesheet"),h(i,"rel","icon"),h(i,"type","image/x-icon"),h(i,"href","/favicon.jpg"),h(f,"class",p=H(`${e[17]?"":"no-clicks"} container`)+" svelte-1bknir5")},m(w,A){K(Ee.head,t),K(Ee.head,s),K(Ee.head,l),K(Ee.head,i),Z(w,m,A),Z(w,f,A),C&&C.m(f,null),K(f,d),O&&O.m(f,null),W=!0},p(w,A){(!W||A[0]&65536)&&o!==(o=w[16])&&(Ee.title=o),w[17]?C?(C.p(w,A),A[0]&131072&&B(C,1)):(C=ns(w),C.c(),B(C,1),C.m(f,d)):C&&(le(),M(C,1,1,()=>{C=null}),oe()),w[17]?O&&(O.d(1),O=null):O||(O=cs(),O.c(),O.m(f,null)),(!W||A[0]&131072&&p!==(p=H(`${w[17]?"":"no-clicks"} container`)+" svelte-1bknir5"))&&h(f,"class",p)},i(w){W||(B(C),W=!0)},o(w){M(C),W=!1},d(w){P(t),P(s),P(l),P(i),w&&P(m),w&&P(f),C&&C.d(),O&&O.d()}}}function Wt(e,t,s){let l,i,o,m,f,d,p,W,C,O,w,A,b,T,y,u,E,R,_,S,v,I,U,q,L,N,F,V,X,n,r,Y,g,ne,re,de,pe,be,_e,we,Be,Ie,Pe,ve;Ps(e,ft,c=>s(53,ve=c));const je=Zs({apiKey:"AIzaSyBds7SmknRyVNwc5XTC6TvFzQoR_ACsLTo",authDomain:"fe3h-sheet.firebaseapp.com",projectId:"fe3h-sheet",storageBucket:"fe3h-sheet.appspot.com",messagingSenderId:"149307616871",appId:"1:149307616871:web:1038f39d161deeb9372ec2"}),ye=1e3*60*60*24,Re=new Date(Date.now()-ye),qe=xs(je);hs(Cs.DB,qe);const ge={playerStats:qs,playerName:"No Name",playerSkills:Ds,skillBonuses:Ms,unlockedClasses:[],customWeapons:{},customCombatSkills:{},customCombatArts:{},classXP:{},weaponXP:{},crest:{type:"",isMajor:!1},equippedClass:"",equippedWeapons:[],equippedCombatSkills:[],equippedCombatArts:[]};let Le=!1,D=ge,Ae,he,Ce={},fe="HOME",Se="sheet",Oe=[],Ue=[],De=0;const Ye=$s(tt(qe,"lobby","taboola",lt()),et("date",">",st.fromDate(Re))),We=ot(Ye,c=>{const k=[];c.forEach(j=>{k.push(j.data())}),s(4,Ue=k)});bs(()=>{We()});const Me=c=>{try{s(3,Oe=JSON.parse(localStorage.getItem("otherSheetNames")||"[]"))}catch(j){console.log(j)}const k=localStorage.getItem(c);if(k)try{s(0,D=Object.assign(Object.assign({},ge),JSON.parse(k)))}catch(j){console.error(j)}else s(0,D=Object.assign(Object.assign({},ge),{playerName:c}))},Fe=c=>{s(2,Se=c),E(),Me(c),localStorage.setItem(Se,JSON.stringify(D))};_s(()=>{Me(Se),s(17,Le=!0),Os(()=>import("../chunks/dice-box.es-7f4fe224.js"),["_app/immutable/chunks/dice-box.es-7f4fe224.js","_app/immutable/chunks/preload-helper-703ceea7.js"]).then(c=>{let k;try{k=JSON.parse(localStorage.getItem("diceBoxOptions")||"{}")}catch(Q){console.log(Q)}const j=new c.default("#dice-box",Object.assign(Object.assign({},Us),k));window.diceBoxContainer=document.getElementById("dice-box"),j.init().then(()=>{window.diceBox=j})})});let Te=1/0,a={};const ue=c=>{s(22,a[c]=!0,a)};return e.$$.update=()=>{e.$$.dirty[0]&2097152&&s(52,l=()=>{s(21,De+=1)}),e.$$.dirty[0]&4|e.$$.dirty[1]&67108864&&s(45,R=c=>{E(),s(0,D=c),localStorage.setItem(Se,JSON.stringify(c))}),e.$$.dirty[0]&5&&s(56,_=(c,k)=>{s(0,D=Object.assign(Object.assign({},D),{[c]:k})),localStorage.setItem(Se,JSON.stringify(D))}),e.$$.dirty[0]&1&&s(51,i=D.playerStats),e.$$.dirty[0]&1&&s(15,o=D.playerSkills),e.$$.dirty[0]&1&&s(50,m=D.skillBonuses),e.$$.dirty[0]&1&&s(7,f=D.unlockedClasses),e.$$.dirty[0]&1&&s(16,d=D.playerName),e.$$.dirty[0]&1&&s(49,p=D.customWeapons),e.$$.dirty[0]&1&&s(48,W=D.customCombatSkills),e.$$.dirty[0]&1&&s(47,C=D.customCombatArts),e.$$.dirty[0]&1&&s(6,O=D.classXP),e.$$.dirty[0]&1&&s(12,w=D.weaponXP),e.$$.dirty[0]&1&&s(46,A=D.crest),e.$$.dirty[0]&1&&s(9,b=D.equippedClass),e.$$.dirty[0]&1&&s(13,T=D.equippedWeapons),e.$$.dirty[0]&1&&s(11,y=D.equippedCombatSkills),e.$$.dirty[0]&1&&s(14,u=D.equippedCombatArts),e.$$.dirty[1]&33554432&&s(44,S=c=>{_("playerStats",c)}),e.$$.dirty[1]&33554432&&s(43,v=c=>{_("playerName",c)}),e.$$.dirty[0]&32768|e.$$.dirty[1]&33554432&&s(42,I=c=>{const k=o[c]||ce.NONE;let j;k===ce.NONE?j=ce.PROFICIENT:k===ce.PROFICIENT?j=ce.EXPERT:k===ce.EXPERT?j=ce.AWFUL:k===ce.AWFUL&&(j=ce.NONE),_("playerSkills",Object.assign(Object.assign({},o),{[c]:j}))}),e.$$.dirty[0]&512|e.$$.dirty[1]&33554432&&s(41,U=c=>{s(9,b=c),_("equippedClass",b)}),e.$$.dirty[0]&16384|e.$$.dirty[1]&33554432&&s(38,N=c=>{u.indexOf(c)!==-1?s(14,u=u.filter(k=>k!==c)):u.length<Ns&&s(14,u=[...u,c]),_("equippedCombatArts",u)}),e.$$.dirty[0]&2048|e.$$.dirty[1]&33554432&&s(10,F=c=>{y.indexOf(c)!==-1?s(11,y=y.filter(k=>k!==c)):y.length<js&&s(11,y=[...y,c]),_("equippedCombatSkills",y)}),e.$$.dirty[0]&8192|e.$$.dirty[1]&33554432&&s(37,V=c=>{T.includes(c)?s(13,T=T.filter(k=>k!==c)):T.length<Rs&&s(13,T=[...T,c]),_("equippedWeapons",T)}),e.$$.dirty[1]&33554432&&s(36,X=c=>{const k=Object.values(nt),j=[...c].sort((Q,Ss)=>{const ks=k.indexOf(Q),ys=k.indexOf(Ss);return ks>ys?1:-1});_("unlockedClasses",j)}),e.$$.dirty[0]&4096|e.$$.dirty[1]&33554432&&s(34,r=(c,k,j,Q)=>{_("weaponXP",Object.assign(Object.assign({},w),{[c]:{total:k,level:j,mastered:Q}}))}),e.$$.dirty[0]&64|e.$$.dirty[1]&33554432&&s(33,Y=(c,k,j)=>{_("classXP",Object.assign(Object.assign({},O),{[c]:{total:k,mastered:j}}))}),e.$$.dirty[1]&33554432&&s(32,g=c=>{_("crest",c)}),e.$$.dirty[0]&2&&s(31,ne=(c,k)=>{let j=k;k<0&&(j=Ce[c]+k),j=Math.max(j,0),s(1,Ce=Object.assign(Object.assign({},Ce),{[c]:j}))}),e.$$.dirty[1]&33554432&&s(30,re=c=>{_("customWeapons",c)}),e.$$.dirty[1]&33554432&&s(29,de=c=>{_("customCombatArts",c)}),e.$$.dirty[1]&33554432&&s(28,pe=c=>{_("customCombatSkills",c)}),e.$$.dirty[0]&8&&s(27,be=c=>{s(3,Oe=[...Oe,c]),localStorage.setItem("otherSheetNames",JSON.stringify(Oe)),Fe(c)}),e.$$.dirty[0]&513&&s(26,_e=gt(D,b)),e.$$.dirty[0]&3585&&s(8,we=Ct(D,b,y,F)),e.$$.dirty[0]&769&&s(25,Be=kt(D,b,we.fullSet)),e.$$.dirty[0]&192&&s(24,Ie=f.filter(c=>{var k;return(k=O[c])===null||k===void 0?void 0:k.mastered})),e.$$.dirty[0]&48&&s(23,Pe=()=>{Te===1/0?s(5,Te=Ue.length):s(5,Te=1/0)})},s(57,E=()=>{s(9,b=""),s(13,T=[]),s(11,y=[]),s(14,u=[]),s(18,Ae=""),s(19,he=""),s(1,Ce={})}),s(40,q=c=>{s(19,he=c)}),s(39,L=c=>{s(18,Ae=c)}),s(35,n=c=>{s(20,fe=c)}),[D,Ce,Se,Oe,Ue,Te,O,f,we,b,F,y,w,T,u,o,d,Le,Ae,he,fe,De,a,Pe,Ie,Be,_e,be,pe,de,re,ne,g,Y,r,n,X,V,N,L,q,U,I,v,S,R,A,C,W,p,m,i,l,ve,Fe,ue,_,E]}class gl extends ms{constructor(t){super(),ds(this,t,Wt,At,ps,{},null,[-1,-1,-1])}}export{gl as default};
