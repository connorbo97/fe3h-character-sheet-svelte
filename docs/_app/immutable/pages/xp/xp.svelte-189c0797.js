import{S as bt,i as Nt,s as st,l as _,r as L,a as b,m as p,n as h,u as U,h as o,c as N,q as ae,p as E,b as q,J as a,K as ne,v as Ue,f as _e,g as Ke,t as ve,d as Ze,a3 as et,w as Xe,e as nt,x as De,y as ze,z as Tt,A as wt,B as Le,C as yt,Y as He,L as Re,E as Be,Q as ye}from"../../chunks/index-d5d48e27.js";import{C as tt,P as kt,B as It,n as Xt}from"../../chunks/constants-56e6b6a8.js";import{P as ot}from"../../chunks/pickOnePrompt-78f18453.js";import{S as Fe}from"../../chunks/SvelteTip-cf62352a.js";import{f as rt,a7 as we,X as Qe,z as je,a8 as Ge,Z as Oe,J as $e,P as zt,r as Lt,D as Ut,n as Ot,u as Dt,I as Vt,Y as Je,a9 as Rt,v as it,h as at}from"../../chunks/weaponLevel-1d872777.js";import{a as ct,T as Ct,c as Ve}from"../../chunks/enums-eee6a708.js";import{a as lt}from"../../chunks/descriptionUtils-f5c09904.js";import{g as ut}from"../../chunks/utils-edd64bc1.js";import Bt from"./combatXPForm.svelte-b5f1157f.js";import xe from"./levelUpDescription.svelte-1025ece1.js";function ft(t){let e,l;return{c(){e=_("div"),l=L(t[1])},l(s){e=p(s,"DIV",{});var r=h(e);l=U(r,t[1]),r.forEach(o)},m(s,r){q(s,e,r),a(e,l)},p(s,r){r&2&&Ue(l,s[1])},d(s){s&&o(e)}}}function dt(t){let e,l,s;const r=[t[3]];var n=t[2];function f(i){let c={};for(let u=0;u<r.length;u+=1)c=yt(c,r[u]);return{props:c}}return n&&(e=new n(f())),{c(){e&&Xe(e.$$.fragment),l=nt()},l(i){e&&De(e.$$.fragment,i),l=nt()},m(i,c){e&&ze(e,i,c),q(i,l,c),s=!0},p(i,c){const u=c&8?Tt(r,[wt(i[3])]):{};if(n!==(n=i[2])){if(e){Ke();const v=e;ve(v.$$.fragment,1,0,()=>{Le(v,1)}),Ze()}n?(e=new n(f()),Xe(e.$$.fragment),_e(e.$$.fragment,1),ze(e,l.parentNode,l)):e=null}else n&&e.$set(u)},i(i){s||(e&&_e(e.$$.fragment,i),s=!0)},o(i){e&&ve(e.$$.fragment,i),s=!1},d(i){i&&o(l),e&&Le(e,i)}}}function Wt(t){let e,l,s,r,n,f,i,c,u,v,X,A=t[1]&&ft(t),S=t[2]&&dt(t);return{c(){e=_("div"),l=_("h2"),s=L(t[0]),r=b(),A&&A.c(),n=b(),S&&S.c(),f=b(),i=_("button"),c=L("Close"),this.h()},l(T){e=p(T,"DIV",{class:!0});var k=h(e);l=p(k,"H2",{});var Y=h(l);s=U(Y,t[0]),Y.forEach(o),r=N(k),A&&A.l(k),n=N(k),S&&S.l(k),f=N(k),i=p(k,"BUTTON",{});var j=h(i);c=U(j,"Close"),j.forEach(o),k.forEach(o),this.h()},h(){ae(i,"width","100%",!1),E(e,"class","container svelte-1wlyb3r")},m(T,k){q(T,e,k),a(e,l),a(l,s),a(e,r),A&&A.m(e,null),a(e,n),S&&S.m(e,null),a(e,f),a(e,i),a(i,c),u=!0,v||(X=ne(i,"click",t[5]),v=!0)},p(T,[k]){(!u||k&1)&&Ue(s,T[0]),T[1]?A?A.p(T,k):(A=ft(T),A.c(),A.m(e,n)):A&&(A.d(1),A=null),T[2]?S?(S.p(T,k),k&4&&_e(S,1)):(S=dt(T),S.c(),_e(S,1),S.m(e,f)):S&&(Ke(),ve(S,1,1,()=>{S=null}),Ze())},i(T){u||(_e(S),u=!0)},o(T){ve(S),u=!1},d(T){T&&o(e),A&&A.d(),S&&S.d(),v=!1,X()}}}function Mt(t,e,l){const{close:s}=et(tt.MODAL);let{header:r}=e,{content:n}=e,{childElement:f}=e,{childElementProps:i}=e;const c=()=>s();return t.$$set=u=>{"header"in u&&l(0,r=u.header),"content"in u&&l(1,n=u.content),"childElement"in u&&l(2,f=u.childElement),"childElementProps"in u&&l(3,i=u.childElementProps)},[r,n,f,i,s,c]}class qt extends bt{constructor(e){super(),Nt(this,e,Mt,Wt,st,{header:0,content:1,childElement:2,childElementProps:3})}}function _t(t,e,l){var i,c;const s=t.slice();s[44]=e[l],s[49]=l;const r=((i=s[2][s[44]])==null?void 0:i.total)||0;s[45]=r;const n=Dt.has(s[44])?It:Vt.has(s[44])?Xt:1e4;s[46]=n;const f=(c=s[2][s[44]])==null?void 0:c.mastered;return s[47]=f,s}function pt(t,e,l){var u,v,X;const s=t.slice();s[50]=e[l],s[49]=l;const r=((u=s[1][s[50]])==null?void 0:u.total)||0;s[45]=r;const n=((v=s[1][s[50]])==null?void 0:v.level)||Je.E;s[51]=n;const f=Oe[Oe.findIndex(A=>{var S;return A===((S=s[1][s[50]])==null?void 0:S.level)})+1];s[52]=f;const i=lt((X=Qe[s[50]])==null?void 0:X[s[52]]);s[53]=i;const c=Rt[s[51]];return s[46]=c,s}function ht(t,e,l){const s=t.slice();return s[55]=e[l],s}function vt(t,e,l){const s=t.slice();return s[58]=e[l],s}function Yt(t){let e,l;return{c(){e=_("u"),l=L("Stat Modifier"),this.h()},l(s){e=p(s,"U",{class:!0});var r=h(e);l=U(r,"Stat Modifier"),r.forEach(o),this.h()},h(){E(e,"class","header svelte-3zpgt7"),ae(e,"text-align","center",!1),ae(e,"white-space","nowrap",!1)},m(s,r){q(s,e,r),a(e,l)},p:Be,d(s){s&&o(e)}}}function jt(t){let e,l;return{c(){e=_("div"),l=L("The stat that will be added when doing XP rolls."),this.h()},l(s){e=p(s,"DIV",{slot:!0});var r=h(e);l=U(r,"The stat that will be added when doing XP rolls."),r.forEach(o),this.h()},h(){E(e,"slot","t")},m(s,r){q(s,e,r),a(e,l)},p:Be,d(s){s&&o(e)}}}function mt(t){let e,l=Ge[t[58]]+"",s,r;return{c(){e=_("option"),s=L(l),this.h()},l(n){e=p(n,"OPTION",{});var f=h(e);s=U(f,l),f.forEach(o),this.h()},h(){e.__value=Je[t[58]],e.value=e.__value,e.selected=r=t[51]===t[58]},m(n,f){q(n,e,f),a(e,s)},p(n,f){f[0]&2&&r!==(r=n[51]===n[58])&&(e.selected=r)},d(n){n&&o(e)}}}function Gt(t){let e,l,s,r,n=Object.keys(Je),f=[];for(let c=0;c<n.length;c+=1)f[c]=mt(vt(t,n,c));function i(...c){return t[34](t[50],t[51],...c)}return{c(){e=_("div"),l=_("select");for(let c=0;c<f.length;c+=1)f[c].c();this.h()},l(c){e=p(c,"DIV",{class:!0});var u=h(e);l=p(u,"SELECT",{name:!0});var v=h(l);for(let X=0;X<f.length;X+=1)f[X].l(v);v.forEach(o),u.forEach(o),this.h()},h(){E(l,"name","weapon_level"),E(e,"class","content svelte-3zpgt7")},m(c,u){q(c,e,u),a(e,l);for(let v=0;v<f.length;v+=1)f[v].m(l,null);s||(r=[ne(l,"change",i),ne(l,"mouseover",t[15](t[49],!0)),ne(l,"mouseleave",t[15](-1,!0)),ne(l,"focus",t[15](t[49],!0))],s=!0)},p(c,u){if(t=c,u[0]&2){n=Object.keys(Je);let v;for(v=0;v<n.length;v+=1){const X=vt(t,n,v);f[v]?f[v].p(X,u):(f[v]=mt(X),f[v].c(),f[v].m(l,null))}for(;v<f.length;v+=1)f[v].d(1);f.length=n.length}},d(c){c&&o(e),He(f,c),s=!1,Re(r)}}}function Ht(t){var j;let e,l,s,r,n,f,i=(lt((j=Qe[t[50]])==null?void 0:j[t[51]])||"Nothing")+"",c,u,v,X,A,S,T,k=(t[53]||"Nothing")+"",Y;return{c(){e=_("div"),l=_("div"),s=_("u"),r=L("Current Level:"),n=b(),f=_("div"),c=L(i),u=b(),v=_("div"),X=_("u"),A=L("On Level Up:"),S=b(),T=_("div"),Y=L(k),this.h()},l(G){e=p(G,"DIV",{slot:!0});var V=h(e);l=p(V,"DIV",{});var H=h(l);s=p(H,"U",{});var F=h(s);r=U(F,"Current Level:"),F.forEach(o),H.forEach(o),n=N(V),f=p(V,"DIV",{});var z=h(f);c=U(z,i),z.forEach(o),u=N(V),v=p(V,"DIV",{});var J=h(v);X=p(J,"U",{});var le=h(X);A=U(le,"On Level Up:"),le.forEach(o),J.forEach(o),S=N(V),T=p(V,"DIV",{});var se=h(T);Y=U(se,k),se.forEach(o),V.forEach(o),this.h()},h(){E(e,"slot","t")},m(G,V){q(G,e,V),a(e,l),a(l,s),a(s,r),a(e,n),a(e,f),a(f,c),a(e,u),a(e,v),a(v,X),a(X,A),a(e,S),a(e,T),a(T,Y)},p(G,V){var H;V[0]&2&&i!==(i=(lt((H=Qe[G[50]])==null?void 0:H[G[51]])||"Nothing")+"")&&Ue(c,i),V[0]&2&&k!==(k=(G[53]||"Nothing")+"")&&Ue(Y,k)},d(G){G&&o(e)}}}function gt(t){let e,l;return e=new Fe({props:{tooltipStyle:Ct.BOTTOM_CENTER,$$slots:{t:[Ht],default:[Gt]},$$scope:{ctx:t}}}),{c(){Xe(e.$$.fragment)},l(s){De(e.$$.fragment,s)},m(s,r){ze(e,s,r),l=!0},p(s,r){const n={};r[0]&8226|r[1]&1073741824&&(n.$$scope={dirty:r,ctx:s}),e.$set(n)},i(s){l||(_e(e.$$.fragment,s),l=!0)},o(s){ve(e.$$.fragment,s),l=!1},d(s){Le(e,s)}}}function Ft(t){let e,l,s,r=we[t[50]],n=[];for(let i=0;i<r.length;i+=1)n[i]=Et(ht(t,r,i));function f(...i){return t[35](t[50],...i)}return{c(){e=_("select");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){e=p(i,"SELECT",{class:!0});var c=h(e);for(let u=0;u<n.length;u+=1)n[u].l(c);c.forEach(o),this.h()},h(){E(e,"class","content svelte-3zpgt7")},m(i,c){q(i,e,c);for(let u=0;u<n.length;u+=1)n[u].m(e,null);l||(s=[ne(e,"change",f),ne(e,"mouseover",t[15](t[49],!0)),ne(e,"mouseleave",t[15](-1,!0)),ne(e,"focus",t[15](t[49],!0))],l=!0)},p(i,c){if(t=i,c[0]&512){r=we[t[50]];let u;for(u=0;u<r.length;u+=1){const v=ht(t,r,u);n[u]?n[u].p(v,c):(n[u]=Et(v),n[u].c(),n[u].m(e,null))}for(;u<n.length;u+=1)n[u].d(1);n.length=r.length}},d(i){i&&o(e),He(n,i),l=!1,Re(s)}}}function Et(t){let e,l=at[t[55]]+"",s,r;return{c(){e=_("option"),s=L(l),this.h()},l(n){e=p(n,"OPTION",{});var f=h(e);s=U(f,l),f.forEach(o),this.h()},h(){e.__value=t[55],e.value=e.__value,e.selected=r=t[9][t[50]]===t[55]},m(n,f){q(n,e,f),a(e,s)},p(n,f){f[0]&512&&r!==(r=n[9][n[50]]===n[55])&&(e.selected=r)},d(n){n&&o(e)}}}function Qt(t){let e,l=at[we[t[50]][0]]+"",s;return{c(){e=_("span"),s=L(l),this.h()},l(r){e=p(r,"SPAN",{class:!0});var n=h(e);s=U(n,l),n.forEach(o),this.h()},h(){E(e,"class","content svelte-3zpgt7"),ae(e,"text-align","center",!1),ae(e,"cursor","default",!1)},m(r,n){q(r,e,n),a(e,s)},p:Be,d(r){r&&o(e)}}}function Jt(t){let e,l,s,r,n,f;function i(){return t[36](t[51],t[45],t[46],t[50])}return{c(){e=_("button"),l=L("Roll"),r=b(),this.h()},l(c){e=p(c,"BUTTON",{});var u=h(e);l=U(u,"Roll"),u.forEach(o),r=N(c),this.h()},h(){e.disabled=s=t[7]<=0},m(c,u){q(c,e,u),a(e,l),q(c,r,u),n||(f=[ne(e,"click",i),ne(e,"mouseover",t[15](t[49],!0)),ne(e,"mouseleave",t[15](-1,!0)),ne(e,"focus",t[15](t[49],!0))],n=!0)},p(c,u){t=c,u[0]&128&&s!==(s=t[7]<=0)&&(e.disabled=s)},d(c){c&&o(e),c&&o(r),n=!1,Re(f)}}}function Kt(t){let e,l,s,r,n,f,i="<= 1 Awful",c,u,v,X,A,S,T,k="2-5 Poor",Y,j,G,V,H,F,z,J,le,se,pe,g,C,O,m=">= 16 Great",I,te,ee,Z,oe,re,de,fe,Ne,me,Se,Ce,ue,ge,Ee,Te,d,w,B;return{c(){e=_("div"),l=_("div"),s=L("Roll for your lecture:"),r=b(),n=_("div"),f=_("span"),c=L(i),u=b(),v=_("span"),X=L("= 0 XP"),A=b(),S=_("div"),T=_("span"),Y=L(k),j=b(),G=_("span"),V=L("= 6 XP"),H=b(),F=_("div"),z=_("span"),J=L("6-15 Good"),le=b(),se=_("span"),pe=L("= 9 XP"),g=b(),C=_("div"),O=_("span"),I=L(m),te=b(),ee=_("span"),Z=L("= 12 XP and +1 Roll (1 per session)"),oe=b(),re=_("div"),de=_("span"),fe=L("Nat 1 Awful"),Ne=b(),me=_("span"),Se=L("= 0 XP"),Ce=b(),ue=_("div"),ge=_("span"),Ee=L("Nat 20 Perfect"),Te=b(),d=_("span"),w=L("= 16 XP and +1 Roll"),B=b(),this.h()},l(W){e=p(W,"DIV",{slot:!0});var D=h(e);l=p(D,"DIV",{});var K=h(l);s=U(K,"Roll for your lecture:"),K.forEach(o),r=N(D),n=p(D,"DIV",{class:!0});var y=h(n);f=p(y,"SPAN",{class:!0});var Pe=h(f);c=U(Pe,i),Pe.forEach(o),u=N(y),v=p(y,"SPAN",{class:!0});var ie=h(v);X=U(ie,"= 0 XP"),ie.forEach(o),y.forEach(o),A=N(D),S=p(D,"DIV",{class:!0});var Q=h(S);T=p(Q,"SPAN",{class:!0});var P=h(T);Y=U(P,k),P.forEach(o),j=N(Q),G=p(Q,"SPAN",{class:!0});var R=h(G);V=U(R,"= 6 XP"),R.forEach(o),Q.forEach(o),H=N(D),F=p(D,"DIV",{class:!0});var $=h(F);z=p($,"SPAN",{class:!0});var x=h(z);J=U(x,"6-15 Good"),x.forEach(o),le=N($),se=p($,"SPAN",{class:!0});var he=h(se);pe=U(he,"= 9 XP"),he.forEach(o),$.forEach(o),g=N(D),C=p(D,"DIV",{class:!0});var M=h(C);O=p(M,"SPAN",{class:!0});var Ae=h(O);I=U(Ae,m),Ae.forEach(o),te=N(M),ee=p(M,"SPAN",{class:!0});var be=h(ee);Z=U(be,"= 12 XP and +1 Roll (1 per session)"),be.forEach(o),M.forEach(o),oe=N(D),re=p(D,"DIV",{class:!0});var ke=h(re);de=p(ke,"SPAN",{class:!0});var We=h(de);fe=U(We,"Nat 1 Awful"),We.forEach(o),Ne=N(ke),me=p(ke,"SPAN",{class:!0});var Me=h(me);Se=U(Me,"= 0 XP"),Me.forEach(o),ke.forEach(o),Ce=N(D),ue=p(D,"DIV",{class:!0});var ce=h(ue);ge=p(ce,"SPAN",{class:!0});var qe=h(ge);Ee=U(qe,"Nat 20 Perfect"),qe.forEach(o),Te=N(ce),d=p(ce,"SPAN",{class:!0});var Ye=h(d);w=U(Ye,"= 16 XP and +1 Roll"),Ye.forEach(o),ce.forEach(o),B=N(D),D.forEach(o),this.h()},h(){E(f,"class","svelte-3zpgt7"),E(v,"class","svelte-3zpgt7"),E(n,"class","test svelte-3zpgt7"),E(T,"class","svelte-3zpgt7"),E(G,"class","svelte-3zpgt7"),E(S,"class","test svelte-3zpgt7"),E(z,"class","svelte-3zpgt7"),E(se,"class","svelte-3zpgt7"),E(F,"class","test svelte-3zpgt7"),E(O,"class","svelte-3zpgt7"),E(ee,"class","svelte-3zpgt7"),E(C,"class","test svelte-3zpgt7"),E(de,"class","svelte-3zpgt7"),E(me,"class","svelte-3zpgt7"),E(re,"class","test svelte-3zpgt7"),E(ge,"class","svelte-3zpgt7"),E(d,"class","svelte-3zpgt7"),E(ue,"class","test svelte-3zpgt7"),E(e,"slot","t")},m(W,D){q(W,e,D),a(e,l),a(l,s),a(e,r),a(e,n),a(n,f),a(f,c),a(n,u),a(n,v),a(v,X),a(e,A),a(e,S),a(S,T),a(T,Y),a(S,j),a(S,G),a(G,V),a(e,H),a(e,F),a(F,z),a(z,J),a(F,le),a(F,se),a(se,pe),a(e,g),a(e,C),a(C,O),a(O,I),a(C,te),a(C,ee),a(ee,Z),a(e,oe),a(e,re),a(re,de),a(de,fe),a(re,Ne),a(re,me),a(me,Se),a(e,Ce),a(e,ue),a(ue,ge),a(ge,Ee),a(ue,Te),a(ue,d),a(d,w),a(e,B)},p:Be,d(W){W&&o(e)}}}function Pt(t){let e,l=je[t[50]]+"",s,r,n,f,i,c,u=`${t[45]} / ${t[46]}`,v,X,A,S,T,k,Y,j,G=t[5],V,H,F,z,J,le,se;function pe(...m){return t[33](t[51],t[45],t[46],t[50],...m)}let g=gt(t),C=we[t[50]].length>1&&Ft(t),O=we[t[50]].length<=1&&Qt(t);return z=new Fe({props:{tooltipStyle:Ct.BOTTOM_CENTER,tooltipPositionerStyle:"z-index: 100",$$slots:{t:[Kt],default:[Jt]},$$scope:{ctx:t}}}),{c(){e=_("div"),s=L(l),n=b(),f=_("div"),i=_("div"),c=_("span"),v=L(u),X=b(),A=_("div"),S=_("div"),T=L("XP to Add"),k=b(),Y=_("input"),j=b(),g.c(),V=b(),C&&C.c(),H=b(),O&&O.c(),F=b(),Xe(z.$$.fragment),this.h()},l(m){e=p(m,"DIV",{class:!0});var I=h(e);s=U(I,l),I.forEach(o),n=N(m),f=p(m,"DIV",{class:!0});var te=h(f);i=p(te,"DIV",{class:!0});var ee=h(i);c=p(ee,"SPAN",{class:!0});var Z=h(c);v=U(Z,u),Z.forEach(o),ee.forEach(o),te.forEach(o),X=N(m),A=p(m,"DIV",{class:!0});var oe=h(A);S=p(oe,"DIV",{class:!0});var re=h(S);T=U(re,"XP to Add"),re.forEach(o),k=N(oe),Y=p(oe,"INPUT",{type:!0,class:!0}),oe.forEach(o),j=N(m),g.l(m),V=N(m),C&&C.l(m),H=N(m),O&&O.l(m),F=N(m),De(z.$$.fragment,m),this.h()},h(){E(e,"class",r=ye(Ve("label content",{focused:t[11].i===t[49]&&t[11].weaponSide}))+" svelte-3zpgt7"),E(c,"class","svelte-3zpgt7"),E(i,"class","fill svelte-3zpgt7"),ae(i,"right",`${(t[46]-t[45])/t[46]*100}%`,!1),E(f,"class","xp-bar content svelte-3zpgt7"),E(S,"class","prompt"),E(Y,"type","number"),E(Y,"class","svelte-3zpgt7"),E(A,"class","form content svelte-3zpgt7")},m(m,I){q(m,e,I),a(e,s),q(m,n,I),q(m,f,I),a(f,i),a(i,c),a(c,v),q(m,X,I),q(m,A,I),a(A,S),a(S,T),a(A,k),a(A,Y),q(m,j,I),g.m(m,I),q(m,V,I),C&&C.m(m,I),q(m,H,I),O&&O.m(m,I),q(m,F,I),ze(z,m,I),J=!0,le||(se=[ne(Y,"mouseover",t[15](t[49],!0)),ne(Y,"mouseleave",t[15](-1,!0)),ne(Y,"focus",t[15](t[49],!0)),ne(Y,"change",pe)],le=!0)},p(m,I){t=m,(!J||I[0]&2048&&r!==(r=ye(Ve("label content",{focused:t[11].i===t[49]&&t[11].weaponSide}))+" svelte-3zpgt7"))&&E(e,"class",r),(!J||I[0]&2)&&u!==(u=`${t[45]} / ${t[46]}`)&&Ue(v,u),I[0]&2&&ae(i,"right",`${(t[46]-t[45])/t[46]*100}%`,!1),I[0]&32&&st(G,G=t[5])?(Ke(),ve(g,1,1,Be),Ze(),g=gt(t),g.c(),_e(g,1),g.m(V.parentNode,V)):g.p(t,I),we[t[50]].length>1&&C.p(t,I),we[t[50]].length<=1&&O.p(t,I);const te={};I[0]&4226|I[1]&1073741824&&(te.$$scope={dirty:I,ctx:t}),z.$set(te)},i(m){J||(_e(g),_e(z.$$.fragment,m),J=!0)},o(m){ve(g),ve(z.$$.fragment,m),J=!1},d(m){m&&o(e),m&&o(n),m&&o(f),m&&o(X),m&&o(A),m&&o(j),g.d(m),m&&o(V),C&&C.d(m),m&&o(H),O&&O.d(m),m&&o(F),Le(z,m),le=!1,Re(se)}}}function Zt(t){let e,l,s;return{c(){e=_("span"),l=L("# of rolls remaining:"),this.h()},l(r){e=p(r,"SPAN",{class:!0});var n=h(e);l=U(n,"# of rolls remaining:"),n.forEach(o),this.h()},h(){E(e,"class",s=ye(Ve({"great-already":t[8]}))+" svelte-3zpgt7")},m(r,n){q(r,e,n),a(e,l)},p(r,n){n[0]&256&&s!==(s=ye(Ve({"great-already":r[8]}))+" svelte-3zpgt7")&&E(e,"class",s)},d(r){r&&o(e)}}}function $t(t){let e,l,s,r,n,f,i,c;return{c(){e=_("div"),l=_("span"),s=L(`This text turns orange when you have rolled a 16+ for this training session already.
						Meaning any more 16+ will not add 1 to your available training sessions.`),r=b(),n=_("br"),f=b(),i=_("span"),c=L("Will be reset when you click the Reset Rolls button"),this.h()},l(u){e=p(u,"DIV",{slot:!0});var v=h(e);l=p(v,"SPAN",{});var X=h(l);s=U(X,`This text turns orange when you have rolled a 16+ for this training session already.
						Meaning any more 16+ will not add 1 to your available training sessions.`),X.forEach(o),r=N(v),n=p(v,"BR",{}),f=N(v),i=p(v,"SPAN",{});var A=h(i);c=U(A,"Will be reset when you click the Reset Rolls button"),A.forEach(o),v.forEach(o),this.h()},h(){E(e,"slot","t")},m(u,v){q(u,e,v),a(e,l),a(l,s),a(e,r),a(e,n),a(e,f),a(e,i),a(i,c)},p:Be,d(u){u&&o(e)}}}function St(t){let e,l=it[t[44]]+"",s,r,n,f,i,c,u=`${t[45]} / ${t[46]}`,v,X,A,S,T,k,Y,j,G,V,H,F,z,J,le,se;function pe(...g){return t[39](t[45],t[46],t[44],...g)}return{c(){e=_("div"),s=L(l),n=b(),f=_("div"),i=_("div"),c=_("span"),v=L(u),A=b(),S=_("div"),T=_("div"),k=L("XP to Add"),Y=b(),j=_("input"),G=b(),V=_("span"),H=b(),F=_("span"),z=b(),J=_("span"),this.h()},l(g){e=p(g,"DIV",{class:!0});var C=h(e);s=U(C,l),C.forEach(o),n=N(g),f=p(g,"DIV",{class:!0});var O=h(f);i=p(O,"DIV",{class:!0});var m=h(i);c=p(m,"SPAN",{class:!0});var I=h(c);v=U(I,u),I.forEach(o),m.forEach(o),O.forEach(o),A=N(g),S=p(g,"DIV",{class:!0});var te=h(S);T=p(te,"DIV",{class:!0});var ee=h(T);k=U(ee,"XP to Add"),ee.forEach(o),Y=N(te),j=p(te,"INPUT",{type:!0,class:!0}),te.forEach(o),G=N(g),V=p(g,"SPAN",{}),h(V).forEach(o),H=N(g),F=p(g,"SPAN",{}),h(F).forEach(o),z=N(g),J=p(g,"SPAN",{}),h(J).forEach(o),this.h()},h(){E(e,"class",r=ye(Ve("label content",{focused:t[11].i===t[49]&&!t[11].weaponSide}))+" svelte-3zpgt7"),E(c,"class","svelte-3zpgt7"),E(i,"class",X=ye(`fill ${t[47]?"mastered":""}`)+" svelte-3zpgt7"),ae(i,"right",`${(t[46]-t[45])/t[46]*100}%`,!1),E(f,"class","xp-bar content svelte-3zpgt7"),E(T,"class","prompt"),E(j,"type","number"),E(j,"class","svelte-3zpgt7"),E(S,"class","form svelte-3zpgt7")},m(g,C){q(g,e,C),a(e,s),q(g,n,C),q(g,f,C),a(f,i),a(i,c),a(c,v),q(g,A,C),q(g,S,C),a(S,T),a(T,k),a(S,Y),a(S,j),q(g,G,C),q(g,V,C),q(g,H,C),q(g,F,C),q(g,z,C),q(g,J,C),le||(se=[ne(j,"mouseover",t[15](t[49],!1)),ne(j,"mouseleave",t[15](-1,!1)),ne(j,"focus",t[15](t[49],!1)),ne(j,"change",pe)],le=!0)},p(g,C){t=g,C[0]&1&&l!==(l=it[t[44]]+"")&&Ue(s,l),C[0]&2048&&r!==(r=ye(Ve("label content",{focused:t[11].i===t[49]&&!t[11].weaponSide}))+" svelte-3zpgt7")&&E(e,"class",r),C[0]&5&&u!==(u=`${t[45]} / ${t[46]}`)&&Ue(v,u),C[0]&5&&X!==(X=ye(`fill ${t[47]?"mastered":""}`)+" svelte-3zpgt7")&&E(i,"class",X),C[0]&5&&ae(i,"right",`${(t[46]-t[45])/t[46]*100}%`,!1)},d(g){g&&o(e),g&&o(n),g&&o(f),g&&o(A),g&&o(S),g&&o(G),g&&o(V),g&&o(H),g&&o(F),g&&o(z),g&&o(J),le=!1,Re(se)}}}function xt(t){let e,l,s,r,n,f,i,c,u,v,X,A,S,T,k,Y,j,G,V,H,F,z,J,le,se,pe,g,C,O,m,I,te,ee,Z,oe,re,de,fe,Ne,me,Se,Ce,ue,ge,Ee,Te,d,w,B,W,D;k=new Fe({props:{$$slots:{t:[jt],default:[Yt]},$$scope:{ctx:t}}});let K=Object.keys(rt),y=[];for(let P=0;P<K.length;P+=1)y[P]=Pt(pt(t,K,P));const Pe=P=>ve(y[P],1,1,()=>{y[P]=null});H=new Bt({props:{equippedClass:t[4],weaponXP:t[1],onWeaponXpChange:t[10]}}),g=new Fe({props:{$$slots:{t:[$t],default:[Zt]},$$scope:{ctx:t}}});let ie=t[0],Q=[];for(let P=0;P<ie.length;P+=1)Q[P]=St(_t(t,ie,P));return{c(){e=_("div"),l=_("div"),s=_("div"),r=_("u"),n=L("Type"),f=b(),i=_("u"),c=L("XP (Current XP / XP Required to Level Up)"),u=b(),v=_("span"),X=b(),A=_("u"),S=L("Lvl"),T=b(),Xe(k.$$.fragment),Y=b(),j=_("span"),G=b();for(let P=0;P<y.length;P+=1)y[P].c();V=b(),Xe(H.$$.fragment),F=b(),z=_("div"),J=_("span"),le=_("u"),se=L("Automatic Training"),pe=b(),Xe(g.$$.fragment),C=b(),O=_("input"),m=b(),I=_("button"),te=L("Reset Rolls"),ee=b(),Z=_("div"),oe=_("u"),re=L("Class"),de=b(),fe=_("u"),Ne=L("Class XP (Current Battles / Battles Required to Master)"),me=b(),Se=_("span"),Ce=b(),ue=_("span"),ge=b(),Ee=_("span"),Te=b(),d=_("span"),w=b();for(let P=0;P<Q.length;P+=1)Q[P].c();this.h()},l(P){e=p(P,"DIV",{class:!0});var R=h(e);l=p(R,"DIV",{class:!0});var $=h(l);s=p($,"DIV",{class:!0});var x=h(s);r=p(x,"U",{class:!0});var he=h(r);n=U(he,"Type"),he.forEach(o),f=N(x),i=p(x,"U",{class:!0});var M=h(i);c=U(M,"XP (Current XP / XP Required to Level Up)"),M.forEach(o),u=N(x),v=p(x,"SPAN",{class:!0}),h(v).forEach(o),X=N(x),A=p(x,"U",{class:!0});var Ae=h(A);S=U(Ae,"Lvl"),Ae.forEach(o),T=N(x),De(k.$$.fragment,x),Y=N(x),j=p(x,"SPAN",{class:!0}),h(j).forEach(o),G=N(x);for(let Ie=0;Ie<y.length;Ie+=1)y[Ie].l(x);x.forEach(o),V=N($),De(H.$$.fragment,$),F=N($),z=p($,"DIV",{class:!0});var be=h(z);J=p(be,"SPAN",{});var ke=h(J);le=p(ke,"U",{});var We=h(le);se=U(We,"Automatic Training"),We.forEach(o),ke.forEach(o),pe=N(be),De(g.$$.fragment,be),C=N(be),O=p(be,"INPUT",{type:!0,class:!0}),m=N(be),I=p(be,"BUTTON",{});var Me=h(I);te=U(Me,"Reset Rolls"),Me.forEach(o),be.forEach(o),$.forEach(o),ee=N(R),Z=p(R,"DIV",{class:!0});var ce=h(Z);oe=p(ce,"U",{class:!0});var qe=h(oe);re=U(qe,"Class"),qe.forEach(o),de=N(ce),fe=p(ce,"U",{class:!0});var Ye=h(fe);Ne=U(Ye,"Class XP (Current Battles / Battles Required to Master)"),Ye.forEach(o),me=N(ce),Se=p(ce,"SPAN",{class:!0}),h(Se).forEach(o),Ce=N(ce),ue=p(ce,"SPAN",{class:!0}),h(ue).forEach(o),ge=N(ce),Ee=p(ce,"SPAN",{class:!0}),h(Ee).forEach(o),Te=N(ce),d=p(ce,"SPAN",{class:!0}),h(d).forEach(o),w=N(ce);for(let Ie=0;Ie<Q.length;Ie+=1)Q[Ie].l(ce);ce.forEach(o),R.forEach(o),this.h()},h(){E(r,"class","header svelte-3zpgt7"),ae(r,"justify-content","flex-start",!1),E(i,"class","header svelte-3zpgt7"),ae(i,"text-align","center",!1),ae(i,"white-space","nowrap",!1),E(v,"class","header svelte-3zpgt7"),E(A,"class","header svelte-3zpgt7"),ae(A,"text-align","center",!1),ae(A,"white-space","nowrap",!1),E(j,"class","header svelte-3zpgt7"),E(s,"class","category svelte-3zpgt7"),ae(J,"flex","1",!1),E(O,"type","number"),O.value=t[7],E(O,"class","svelte-3zpgt7"),E(z,"class","auto-xp svelte-3zpgt7"),ae(z,"flex","1",!1),E(l,"class","weapon-xp-container svelte-3zpgt7"),E(oe,"class","header svelte-3zpgt7"),ae(oe,"justify-content","flex-start",!1),E(fe,"class","header svelte-3zpgt7"),ae(fe,"text-align","center",!1),ae(fe,"white-space","nowrap",!1),ae(fe,"justify-content","flex-start",!1),E(Se,"class","header svelte-3zpgt7"),E(ue,"class","header svelte-3zpgt7"),ae(ue,"padding","0",!1),E(Ee,"class","header svelte-3zpgt7"),ae(Ee,"padding","0",!1),E(d,"class","header svelte-3zpgt7"),ae(d,"padding","0",!1),E(Z,"class","category class-xp-container svelte-3zpgt7"),E(e,"class","container svelte-3zpgt7")},m(P,R){q(P,e,R),a(e,l),a(l,s),a(s,r),a(r,n),a(s,f),a(s,i),a(i,c),a(s,u),a(s,v),a(s,X),a(s,A),a(A,S),a(s,T),ze(k,s,null),a(s,Y),a(s,j),a(s,G);for(let $=0;$<y.length;$+=1)y[$].m(s,null);a(l,V),ze(H,l,null),a(l,F),a(l,z),a(z,J),a(J,le),a(le,se),a(z,pe),ze(g,z,null),a(z,C),a(z,O),a(z,m),a(z,I),a(I,te),a(e,ee),a(e,Z),a(Z,oe),a(oe,re),a(Z,de),a(Z,fe),a(fe,Ne),a(Z,me),a(Z,Se),a(Z,Ce),a(Z,ue),a(Z,ge),a(Z,Ee),a(Z,Te),a(Z,d),a(Z,w);for(let $=0;$<Q.length;$+=1)Q[$].m(Z,null);B=!0,W||(D=[ne(O,"change",t[37]),ne(I,"click",t[38])],W=!0)},p(P,R){const $={};if(R[1]&1073741824&&($.$$scope={dirty:R,ctx:P}),k.$set($),R[0]&64162){K=Object.keys(rt);let M;for(M=0;M<K.length;M+=1){const Ae=pt(P,K,M);y[M]?(y[M].p(Ae,R),_e(y[M],1)):(y[M]=Pt(Ae),y[M].c(),_e(y[M],1),y[M].m(s,null))}for(Ke(),M=K.length;M<y.length;M+=1)Pe(M);Ze()}const x={};R[0]&16&&(x.equippedClass=P[4]),R[0]&2&&(x.weaponXP=P[1]),R[0]&1024&&(x.onWeaponXpChange=P[10]),H.$set(x);const he={};if(R[0]&256|R[1]&1073741824&&(he.$$scope={dirty:R,ctx:P}),g.$set(he),(!B||R[0]&128&&O.value!==P[7])&&(O.value=P[7]),R[0]&34893){ie=P[0];let M;for(M=0;M<ie.length;M+=1){const Ae=_t(P,ie,M);Q[M]?Q[M].p(Ae,R):(Q[M]=St(Ae),Q[M].c(),Q[M].m(Z,null))}for(;M<Q.length;M+=1)Q[M].d(1);Q.length=ie.length}},i(P){if(!B){_e(k.$$.fragment,P);for(let R=0;R<K.length;R+=1)_e(y[R]);_e(H.$$.fragment,P),_e(g.$$.fragment,P),B=!0}},o(P){ve(k.$$.fragment,P),y=y.filter(Boolean);for(let R=0;R<y.length;R+=1)ve(y[R]);ve(H.$$.fragment,P),ve(g.$$.fragment,P),B=!1},d(P){P&&o(e),Le(k),He(y,P),Le(H),Le(g),He(Q,P),W=!1,Re(D)}}}const At=4;function el(t,e,l){let s,r,n,f,i,c;var u=this&&this.__awaiter||function(d,w,B,W){function D(K){return K instanceof B?K:new B(function(y){y(K)})}return new(B||(B=Promise))(function(K,y){function Pe(P){try{Q(W.next(P))}catch(R){y(R)}}function ie(P){try{Q(W.throw(P))}catch(R){y(R)}}function Q(P){P.done?K(P.value):D(P.value).then(Pe,ie)}Q((W=W.apply(d,w||[])).next())})};const{open:v}=et(tt.MODAL);let{unlockedClasses:X}=e,{weaponXP:A}=e,{classXP:S}=e,{playerSkillProficiency:T}=e,{playerSkillBonus:k}=e,{onUpdateClassXP:Y}=e,{onUpdateWeaponXP:j}=e,{customCombatArts:G}=e,{customCombatSkills:V}=e,{customWeapons:H}=e,{playerStats:F}=e,{onUpdatePlayerStats:z}=e,{onUpdateCustomCombatArts:J}=e,{onUpdateCustomCombatSkills:le}=e,{onUpdateCustomWeapons:se}=e,{equippedClass:pe}=e,{playerName:g}=e,C=!0,O=new Audio("success-sound.webm"),m=new Audio("failure.webm"),I=new Audio("bell.webm"),te=new Audio("item-received.webm"),ee=new Audio("success-sound.webm");const Z=()=>{m.pause(),I.pause(),te.pause(),ee.pause()};let oe=At,re=!1,de=Object.keys(we).reduce((d,w)=>(d[w]=we[w][0],d),{}),fe={i:-1,weaponSide:!0};const Ne=(d,w)=>()=>{l(11,fe={i:d,weaponSide:w})},me=(d,w,B,W,D)=>f(D,{curLevel:d,curXP:w,maxXP:B,type:W}),Se=(d,w,B)=>{l(5,C=!C),i(B,{type:d,curLevel:w})},Ce=(d,w)=>{l(9,de={...de,[d]:w.currentTarget.value})},ue=(d,w,B,W)=>c({curLevel:d,curXP:w,maxXP:B,type:W}),ge=d=>l(7,oe=parseInt(d.currentTarget.value)),Ee=()=>{l(7,oe=At),l(8,re=!1)},Te=(d,w,B,W)=>{let D=parseInt(W.currentTarget.value),K=d+D;K>=w&&(K=w,l(6,O.currentTime=0,O),O.play()),Y(B,K,K===w),W.currentTarget.value=""};return t.$$set=d=>{"unlockedClasses"in d&&l(0,X=d.unlockedClasses),"weaponXP"in d&&l(1,A=d.weaponXP),"classXP"in d&&l(2,S=d.classXP),"playerSkillProficiency"in d&&l(16,T=d.playerSkillProficiency),"playerSkillBonus"in d&&l(17,k=d.playerSkillBonus),"onUpdateClassXP"in d&&l(3,Y=d.onUpdateClassXP),"onUpdateWeaponXP"in d&&l(18,j=d.onUpdateWeaponXP),"customCombatArts"in d&&l(19,G=d.customCombatArts),"customCombatSkills"in d&&l(20,V=d.customCombatSkills),"customWeapons"in d&&l(21,H=d.customWeapons),"playerStats"in d&&l(22,F=d.playerStats),"onUpdatePlayerStats"in d&&l(23,z=d.onUpdatePlayerStats),"onUpdateCustomCombatArts"in d&&l(24,J=d.onUpdateCustomCombatArts),"onUpdateCustomCombatSkills"in d&&l(25,le=d.onUpdateCustomCombatSkills),"onUpdateCustomWeapons"in d&&l(26,se=d.onUpdateCustomWeapons),"equippedClass"in d&&l(4,pe=d.equippedClass),"playerName"in d&&l(27,g=d.playerName)},t.$$.update=()=>{t.$$.dirty[0]&133693512&&l(32,r=(d,w,B=()=>{},W=()=>{})=>{var D,K;Z(),l(6,O.currentTime=0,O),O.play();const y=(K=(D=Qe[d][w])===null||D===void 0?void 0:D.unlocks)===null||K===void 0?void 0:K.pickOne;y?(v(ot,{SPECIAL_callOnClose:()=>{W()},pickOne:y,onSubmit:B,reason:`Unlocked ${je[d]} level ${Ge[w]}`,customCombatArts:G,customCombatSkills:V,customWeapons:H,playerStats:F,onUpdatePlayerStats:z,onUpdateClassXP:Y,onUpdateCustomCombatArts:J,onUpdateCustomCombatSkills:le,onUpdateCustomWeapons:se,descriptionElement:xe,descriptionElementProps:{type:d,level:w,disablePickOne:!0}}),v(ot,{SPECIAL_callOnClose:()=>{W()},pickOne:y,onSubmit:B,reason:`Unlocked ${je[d]} level ${Ge[w]}`,customCombatArts:G,customCombatSkills:V,customWeapons:H,playerStats:F,onUpdatePlayerStats:z,onUpdateClassXP:Y,onUpdateCustomCombatArts:J,onUpdateCustomCombatSkills:le,onUpdateCustomWeapons:se,descriptionElement:xe,descriptionElementProps:{type:d,level:w,disablePickOne:!0}})):v(qt,{header:`Unlocked ${je[d]} level ${Ge[w]}`,childElement:xe,childElementProps:{type:d,level:w},SPECIAL_callOnClose:()=>{B(),W()}})}),t.$$.dirty[0]&262240|t.$$.dirty[1]&2&&l(10,n=(d,{curLevel:w,curXP:B,maxXP:W,type:D,onSuccess:K})=>new Promise(y=>{let Pe=w,ie=B+d;const Q={current:!1},P=()=>{j(D,ie,Pe),l(5,C=!C),K&&K(),y(!0),Q.current=!0},R=()=>{Q.current||(alert("Rolling back this Level Up b/c prompt was not completed"),y(!1))};ie>=W?(Pe=Oe[Oe.indexOf(w)+1]||w,ie=ie-W,console.log("should play",O),r(D,Pe,P,R)):P()})),t.$$.dirty[0]&1024&&l(14,f=(d,w)=>{const B=d.currentTarget,W=parseInt(d.currentTarget.value),D=()=>{B.value=""};n(W,Object.assign(Object.assign({},w),{onSuccess:D}))}),t.$$.dirty[0]&262176|t.$$.dirty[1]&2&&l(13,i=(d,{type:w,curLevel:B})=>{const W=d.currentTarget.value,D=()=>{j(w,0,W)};!B||Oe.indexOf(B)<Oe.indexOf(W)?r(w,W,D):D()}),t.$$.dirty[0]&2017658752|t.$$.dirty[1]&1&&l(12,c=d=>u(void 0,void 0,void 0,function*(){const{type:w}=d,B=de[w],W=B===$e.ANIMAL_HANDLING,D=(T[$e.ANIMAL_HANDLING]*kt||0)+(k[$e.ANIMAL_HANDLING]||0),K=W?"Animal Handling":at[B],y=W?ut(F[zt.WIS])+D:ut(F[B]),Pe=(R,$)=>{let x="",he=$+y;return $===20?x="Perfect: 16 XP + 1 roll!":$===1||he<=1?x="Awful: 0 XP":he<=5?x="Poor: 6 XP":he<=15?x="Good: 9 XP":x=`Great: 12 XP ${re?"":"+ 1 roll (once per session)"}`,`<div><span style=${$===20?'"color: green"':$===1?'"color: red"':""}>${$}</span> ${ct(y,!0)}(${K}) = ${he}</div><div style='text-align:center'>${x}</div>`},{value:ie}=yield Lt([Ut.d20],{customResultBoxLabel:Pe}),Q=ie+y;Ot(s,{playerName:g,rollName:"XP Roll ("+je[w]+")",rollBonus:y,roll:Q+"",rollTooltip:ie+ct(y)});let P=oe-1;Z(),ie===20?(l(30,ee.currentTime=0,ee),ee.play(),n(16,d),P+=1):ie===1||Q<=1?(l(28,m.currentTime=0,m),m.play()):Q<=5?(l(28,m.currentTime=0,m),m.play(),n(6,d)):Q<=15?(l(29,te.currentTime=0,te),te.play(),n(9,d)):(l(30,ee.currentTime=0,ee),ee.play(),re||(P+=1),n(12,d),l(8,re=!0)),l(7,oe=P)}))},l(6,O.volume=.05,O),l(28,m.volume=.05,m),I.volume=.05,l(29,te.volume=.1,te),l(30,ee.volume=.025,ee),l(31,s=et(tt.DB)),[X,A,S,Y,pe,C,O,oe,re,de,n,fe,c,i,f,Ne,T,k,j,G,V,H,F,z,J,le,se,g,m,te,ee,s,r,me,Se,Ce,ue,ge,Ee,Te]}class fl extends bt{constructor(e){super(),Nt(this,e,el,xt,st,{unlockedClasses:0,weaponXP:1,classXP:2,playerSkillProficiency:16,playerSkillBonus:17,onUpdateClassXP:3,onUpdateWeaponXP:18,customCombatArts:19,customCombatSkills:20,customWeapons:21,playerStats:22,onUpdatePlayerStats:23,onUpdateCustomCombatArts:24,onUpdateCustomCombatSkills:25,onUpdateCustomWeapons:26,equippedClass:4,playerName:27},null,[-1,-1])}}export{fl as default};
