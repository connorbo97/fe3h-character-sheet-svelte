import{S as he,i as ue,s as ce,l as _,r as H,a as T,m as f,n as N,u as J,h as p,c as I,p as le,b as ie,J as n,a8 as ne,K as V,E as oe,Y as de,L as _e,v as fe,T as ae,W as ge}from"../../chunks/index-d5d48e27.js";import{d as me}from"../../chunks/utils-edd64bc1.js";import"../../chunks/weaponLevel-1d872777.js";import"../../chunks/enums-eee6a708.js";function re(t,e,o){const g=t.slice();return g[15]=e[o],g}function se(t){let e,o=t[15]+"",g,S,h;return{c(){e=_("option"),g=H(o),this.h()},l(a){e=f(a,"OPTION",{});var u=N(e);g=J(u,o),u.forEach(p),this.h()},h(){e.__value=S=t[15],e.value=e.__value,e.selected=h=t[0]===t[15]},m(a,u){ie(a,e,u),n(e,g)},p(a,u){u&128&&o!==(o=a[15]+"")&&fe(g,o),u&128&&S!==(S=a[15])&&(e.__value=S,e.value=e.__value),u&129&&h!==(h=a[0]===a[15])&&(e.selected=h)},d(a){a&&p(e)}}}function ve(t){let e,o,g,S,h,a,u,C,E,m,O,c,q,B,K,W,Y,l,v,M,k,U,P,y,R,b,L,z,G,w,Q,Z,D=t[7],d=[];for(let i=0;i<D.length;i+=1)d[i]=se(re(t,D,i));return{c(){e=_("div"),o=_("h1"),g=H("Manage other sheets"),S=T(),h=_("select"),a=_("option"),u=H("Main Sheet");for(let i=0;i<d.length;i+=1)d[i].c();E=T(),m=_("input"),O=T(),c=_("button"),q=H("Add New Sheet"),K=T(),W=_("br"),Y=T(),l=_("div"),v=_("button"),M=H("Export all sheets"),k=T(),U=_("br"),P=T(),y=_("br"),R=T(),b=_("div"),L=_("button"),z=H("Import all sheets"),G=T(),w=_("input"),this.h()},l(i){e=f(i,"DIV",{class:!0});var r=N(e);o=f(r,"H1",{});var s=N(o);g=J(s,"Manage other sheets"),s.forEach(p),S=I(r),h=f(r,"SELECT",{});var F=N(h);a=f(F,"OPTION",{});var x=N(a);u=J(x,"Main Sheet"),x.forEach(p);for(let X=0;X<d.length;X+=1)d[X].l(F);F.forEach(p),E=I(r),m=f(r,"INPUT",{}),O=I(r),c=f(r,"BUTTON",{});var $=N(c);q=J($,"Add New Sheet"),$.forEach(p),K=I(r),W=f(r,"BR",{}),Y=I(r),l=f(r,"DIV",{});var A=N(l);v=f(A,"BUTTON",{});var ee=N(v);M=J(ee,"Export all sheets"),ee.forEach(p),k=I(A),U=f(A,"BR",{}),P=I(A),y=f(A,"BR",{}),R=I(A),b=f(A,"DIV",{});var j=N(b);L=f(j,"BUTTON",{});var te=N(L);z=J(te,"Import all sheets"),te.forEach(p),G=I(j),w=f(j,"INPUT",{type:!0}),j.forEach(p),A.forEach(p),r.forEach(p),this.h()},h(){a.__value="sheet",a.value=a.__value,a.selected=C=t[0]==="sheet",c.disabled=B=!t[5]||t[3].includes(t[5]),le(w,"type","file"),w.multiple=!0,le(e,"class","container")},m(i,r){ie(i,e,r),n(e,o),n(o,g),n(e,S),n(e,h),n(h,a),n(a,u);for(let s=0;s<d.length;s+=1)d[s].m(h,null);n(e,E),n(e,m),ne(m,t[5]),n(e,O),n(e,c),n(c,q),n(e,K),n(e,W),n(e,Y),n(e,l),n(l,v),n(v,M),n(l,k),n(l,U),n(l,P),n(l,y),n(l,R),n(l,b),n(b,L),n(L,z),n(b,G),n(b,w),t[13](w),Q||(Z=[V(h,"change",t[10]),V(m,"input",t[11]),V(c,"click",t[12]),V(v,"click",function(){ae(t[9])&&t[9].apply(this,arguments)}),V(L,"click",function(){ae(t[8])&&t[8].apply(this,arguments)}),V(w,"change",t[14])],Q=!0)},p(i,[r]){if(t=i,r&1&&C!==(C=t[0]==="sheet")&&(a.selected=C),r&129){D=t[7];let s;for(s=0;s<D.length;s+=1){const F=re(t,D,s);d[s]?d[s].p(F,r):(d[s]=se(F),d[s].c(),d[s].m(h,null))}for(;s<d.length;s+=1)d[s].d(1);d.length=D.length}r&32&&m.value!==t[5]&&ne(m,t[5]),r&40&&B!==(B=!t[5]||t[3].includes(t[5]))&&(c.disabled=B)},i:oe,o:oe,d(i){i&&p(e),de(d,i),t[13](null),Q=!1,_e(Z)}}}function pe(t,e,o){let g,S,h,{curSheet:a}=e,{onChangeCurSheet:u}=e,{onAddSheet:C}=e,{otherSheetNames:E}=e,m,O,c=null;const q=l=>u(l.currentTarget.value);function B(){m=this.value,o(5,m)}const K=()=>{C(m),o(5,m="")};function W(l){ge[l?"unshift":"push"](()=>{O=l,o(6,O)})}const Y=l=>{var v;o(4,c=((v=l==null?void 0:l.currentTarget)==null?void 0:v.files)||null)};return t.$$set=l=>{"curSheet"in l&&o(0,a=l.curSheet),"onChangeCurSheet"in l&&o(1,u=l.onChangeCurSheet),"onAddSheet"in l&&o(2,C=l.onAddSheet),"otherSheetNames"in l&&o(3,E=l.otherSheetNames)},t.$$.update=()=>{t.$$.dirty&8&&o(9,g=()=>{try{console.log(E),E.forEach(l=>{console.log("downloading",l),me(localStorage.getItem(l),l,"text/plain")})}catch(l){console.error(l)}}),t.$$.dirty&24&&o(8,S=()=>{if(!c||!(c!=null&&c.length)){alert("no sheets provided");return}let l=new Set(E);try{Array.from(c).forEach(M=>{const k=M.name.split(".")[0];l.add(k);const U=new FileReader;U.onload=P=>{var y,R,b;console.log(k,(y=P.target)===null||y===void 0?void 0:y.result),localStorage.setItem(k,((b=(R=P.target)===null||R===void 0?void 0:R.result)===null||b===void 0?void 0:b.toString())||"")},U.readAsText(M,"UTF-8")}),console.log(l)}catch(v){console.log(v)}localStorage.setItem("otherSheetNames",JSON.stringify(Array.from(l))),alert("REMEMBER TO REFRESH")}),t.$$.dirty&8&&o(7,h=E.sort())},[a,u,C,E,c,m,O,h,S,g,q,B,K,W,Y]}class Te extends he{constructor(e){super(),ue(this,e,pe,ve,ce,{curSheet:0,onChangeCurSheet:1,onAddSheet:2,otherSheetNames:3})}}export{Te as default};
