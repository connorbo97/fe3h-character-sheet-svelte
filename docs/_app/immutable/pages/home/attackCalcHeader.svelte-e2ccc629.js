import{S as x,i as $,s as M,l as p,r as D,a as I,m as g,n as T,u as P,h,c as O,p as S,b as F,J as d,K as R,E as Y,Y as X,v as Z}from"../../chunks/index-d5d48e27.js";import{k as ee,M as te}from"../../chunks/weaponLevel-1d872777.js";import"../../chunks/enums-eee6a708.js";function G(i,e,l){const c=i.slice();return c[21]=e[l],c}function J(i,e,l){const c=i.slice();return c[24]=e[l],c}function K(i){var a;let e,l=((a=i[3][i[24]])==null?void 0:a.label)+"",c,r,_,u;return{c(){e=p("option"),c=D(l),r=I(),this.h()},l(t){e=g(t,"OPTION",{});var n=T(e);c=P(n,l),r=O(n),n.forEach(h),this.h()},h(){e.__value=_=i[24],e.value=e.__value,e.selected=u=i[1]===i[24]},m(t,n){F(t,e,n),d(e,c),d(e,r)},p(t,n){var s;n&1032&&l!==(l=((s=t[3][t[24]])==null?void 0:s.label)+"")&&Z(c,l),n&1024&&_!==(_=t[24])&&(e.__value=_,e.value=e.__value),n&1026&&u!==(u=t[1]===t[24])&&(e.selected=u)},d(t){t&&h(e)}}}function j(i){let e,l,c,r,_,u=i[10],a=[];for(let t=0;t<u.length;t+=1)a[t]=K(J(i,u,t));return{c(){e=p("select"),l=p("option"),c=D("- ");for(let t=0;t<a.length;t+=1)a[t].c();this.h()},l(t){e=g(t,"SELECT",{class:!0});var n=T(e);l=g(n,"OPTION",{});var s=T(l);c=P(s,"- "),s.forEach(h);for(let f=0;f<a.length;f+=1)a[f].l(n);n.forEach(h),this.h()},h(){l.__value="",l.value=l.__value,S(e,"class","svelte-xlcqi6")},m(t,n){F(t,e,n),d(e,l),d(l,c);for(let s=0;s<a.length;s+=1)a[s].m(e,null);r||(_=R(e,"change",i[18]),r=!0)},p(t,n){if(n&1034){u=t[10];let s;for(s=0;s<u.length;s+=1){const f=J(t,u,s);a[s]?a[s].p(f,n):(a[s]=K(f),a[s].c(),a[s].m(e,null))}for(;s<a.length;s+=1)a[s].d(1);a.length=u.length}},d(t){t&&h(e),X(a,t),r=!1,_()}}}function z(i){let e,l,c="Combat Art: ",r,_,u=i[8],a=Q(i);return{c(){e=p("div"),l=p("span"),r=D(c),_=I(),a.c(),this.h()},l(t){e=g(t,"DIV",{class:!0});var n=T(e);l=g(n,"SPAN",{class:!0});var s=T(l);r=P(s,c),s.forEach(h),_=O(n),a.l(n),n.forEach(h),this.h()},h(){S(l,"class","label"),S(e,"class","selection svelte-xlcqi6")},m(t,n){F(t,e,n),d(e,l),d(l,r),d(e,_),a.m(e,null)},p(t,n){n&256&&M(u,u=t[8])?(a.d(1),a=Q(t),a.c(),a.m(e,null)):a.p(t,n)},d(t){t&&h(e),a.d(t)}}}function B(i){let e,l=i[9][i[21]].label+"",c,r,_,u;return{c(){e=p("option"),c=D(l),r=I(),this.h()},l(a){e=g(a,"OPTION",{});var t=T(e);c=P(t,l),r=O(t),t.forEach(h),this.h()},h(){e.__value=_=i[21],e.value=e.__value,e.selected=u=i[6]===i[21]},m(a,t){F(a,e,t),d(e,c),d(e,r)},p(a,t){t&768&&l!==(l=a[9][a[21]].label+"")&&Z(c,l),t&256&&_!==(_=a[21])&&(e.__value=_,e.value=e.__value),t&320&&u!==(u=a[6]===a[21])&&(e.selected=u)},d(a){a&&h(e)}}}function Q(i){let e,l,c,r,_,u=i[8],a=[];for(let t=0;t<u.length;t+=1)a[t]=B(G(i,u,t));return{c(){e=p("select"),l=p("option"),c=D("- ");for(let t=0;t<a.length;t+=1)a[t].c();this.h()},l(t){e=g(t,"SELECT",{class:!0});var n=T(e);l=g(n,"OPTION",{});var s=T(l);c=P(s,"- "),s.forEach(h);for(let f=0;f<a.length;f+=1)a[f].l(n);n.forEach(h),this.h()},h(){l.__value="",l.value=l.__value,S(e,"class","svelte-xlcqi6")},m(t,n){F(t,e,n),d(e,l),d(l,c);for(let s=0;s<a.length;s+=1)a[s].m(e,null);r||(_=R(e,"change",i[19]),r=!0)},p(t,n){if(n&832){u=t[8];let s;for(s=0;s<u.length;s+=1){const f=G(t,u,s);a[s]?a[s].p(f,n):(a[s]=B(f),a[s].c(),a[s].m(e,null))}for(;s<a.length;s+=1)a[s].d(1);a.length=u.length}},d(t){t&&h(e),X(a,t),r=!1,_()}}}function le(i){let e,l,c,r,_="Weapon: ",u,a,t=i[10],n,s,f,A,q,W,N,C,k,y,E=j(i),v=i[8].length>0&&z(i);return{c(){e=p("div"),l=p("div"),c=p("div"),r=p("span"),u=D(_),a=I(),E.c(),n=I(),s=p("div"),v&&v.c(),f=I(),A=p("div"),q=p("span"),W=D("Range"),N=I(),C=p("input"),this.h()},l(m){e=g(m,"DIV",{class:!0});var b=T(e);l=g(b,"DIV",{class:!0});var V=T(l);c=g(V,"DIV",{class:!0});var o=T(c);r=g(o,"SPAN",{class:!0});var L=T(r);u=P(L,_),L.forEach(h),a=O(o),E.l(o),o.forEach(h),V.forEach(h),n=O(b),s=g(b,"DIV",{class:!0});var U=T(s);v&&v.l(U),U.forEach(h),f=O(b),A=g(b,"DIV",{class:!0});var w=T(A);q=g(w,"SPAN",{});var H=T(q);W=P(H,"Range"),H.forEach(h),N=O(w),C=g(w,"INPUT",{type:!0,min:!0,class:!0}),w.forEach(h),b.forEach(h),this.h()},h(){S(r,"class","label"),S(c,"class","selection svelte-xlcqi6"),S(l,"class","entry svelte-xlcqi6"),S(s,"class","entry svelte-xlcqi6"),S(C,"type","number"),C.value=i[4],S(C,"min","0"),S(C,"class","svelte-xlcqi6"),S(A,"class","range-finder svelte-xlcqi6"),S(e,"class","container svelte-xlcqi6")},m(m,b){F(m,e,b),d(e,l),d(l,c),d(c,r),d(r,u),d(c,a),E.m(c,null),d(e,n),d(e,s),v&&v.m(s,null),d(e,f),d(e,A),d(A,q),d(q,W),d(A,N),d(A,C),k||(y=R(C,"change",i[20]),k=!0)},p(m,[b]){b&1024&&M(t,t=m[10])?(E.d(1),E=j(m),E.c(),E.m(c,null)):E.p(m,b),m[8].length>0?v?v.p(m,b):(v=z(m),v.c(),v.m(s,null)):v&&(v.d(1),v=null),b&16&&C.value!==m[4]&&(C.value=m[4])},i:Y,o:Y,d(m){m&&h(e),E.d(m),v&&v.d(),k=!1,y()}}}function ae(i,e,l){let c,r,_,u;var a;let{equippedClass:t}=e,{allWeapons:n}=e,{equippedWeapons:s}=e,{selectedWeapon:f}=e,{setSelectedWeapon:A}=e,{damageTypeSelection:q}=e,{weaponsToFeatures:W}=e,{distanceToTarget:N}=e,{setDistanceToTarget:C}=e,{selectedCombatArt:k}=e,{setSelectedCombatArt:y}=e,{equippedCombatArts:E}=e,{allCombatArts:v}=e;const m=o=>{A(o.currentTarget.value),l(0,q="")},b=o=>{y(o.currentTarget.value)},V=o=>C(parseInt(o.currentTarget.value));return i.$$set=o=>{"equippedClass"in o&&l(11,t=o.equippedClass),"allWeapons"in o&&l(12,n=o.allWeapons),"equippedWeapons"in o&&l(13,s=o.equippedWeapons),"selectedWeapon"in o&&l(1,f=o.selectedWeapon),"setSelectedWeapon"in o&&l(2,A=o.setSelectedWeapon),"damageTypeSelection"in o&&l(0,q=o.damageTypeSelection),"weaponsToFeatures"in o&&l(3,W=o.weaponsToFeatures),"distanceToTarget"in o&&l(4,N=o.distanceToTarget),"setDistanceToTarget"in o&&l(5,C=o.setDistanceToTarget),"selectedCombatArt"in o&&l(6,k=o.selectedCombatArt),"setSelectedCombatArt"in o&&l(7,y=o.setSelectedCombatArt),"equippedCombatArts"in o&&l(14,E=o.equippedCombatArts),"allCombatArts"in o&&l(15,v=o.allCombatArts)},i.$$.update=()=>{i.$$.dirty&65546&&l(17,c=l(16,a=W[f])===null||a===void 0?void 0:a.type),i.$$.dirty&14344&&l(10,r=[...s,...!t||ee[t].canUseMagic===!0?n.fullArray.filter(o=>te.includes(W[o].type)):[]]),i.$$.dirty&1030&&f&&!r.includes(f)&&A(""),i.$$.dirty&32768&&l(9,_=v.fullFeatures),i.$$.dirty&147968&&l(8,u=E.filter(o=>(_[o].compatibleWeapons||[]).indexOf(c)!==-1)),i.$$.dirty&448&&k&&!u.includes(k)&&y("")},[q,f,A,W,N,C,k,y,u,_,r,t,n,s,E,v,a,c,m,b,V]}class oe extends x{constructor(e){super(),$(this,e,ae,le,M,{equippedClass:11,allWeapons:12,equippedWeapons:13,selectedWeapon:1,setSelectedWeapon:2,damageTypeSelection:0,weaponsToFeatures:3,distanceToTarget:4,setDistanceToTarget:5,selectedCombatArt:6,setSelectedCombatArt:7,equippedCombatArts:14,allCombatArts:15})}}export{oe as default};
