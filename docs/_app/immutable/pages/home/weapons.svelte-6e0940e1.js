import{S as ql,i as Ul,s as bl,l as v,w as te,a as S,r as M,m,n as w,x as ae,c as k,u as O,h as _,p as W,Q as De,q as he,b as ne,y as oe,J as p,K as Ce,v as Sl,f as g,t as U,d as B,B as ie,L as kl,a3 as Cl,g as F,Y as de,T as Pe}from"../../chunks/index-d5d48e27.js";import{C as Tl}from"../../chunks/categoryHeader-f8b5a27f.js";import{C as Dl}from"../../chunks/constants-56e6b6a8.js";import{f as Ze,N as yl,m as zl,T as $e,M as Il,S as Al,O as Vl,Q as Nl,B as Ml,R as Ol}from"../../chunks/weaponLevel-1d872777.js";import{c as xe}from"../../chunks/enums-eee6a708.js";import el from"./customWeaponPrompt.svelte-c6fcfd04.js";import ge from"./weaponsSection.svelte-f7764e20.js";import"../../chunks/equippedButton-566568f6.js";import"../../chunks/SvelteTip-cf62352a.js";import"../../chunks/utils-edd64bc1.js";function ll(s,l,i){const e=s.slice();return e[33]=l[i],e}function sl(s,l,i){const e=s.slice();return e[33]=l[i],e}function tl(s,l,i){const e=s.slice();return e[33]=l[i],e}function al(s,l,i){const e=s.slice();return e[33]=l[i],e}function nl(s,l,i){const e=s.slice();return e[33]=l[i],e}function ol(s,l,i){const e=s.slice();return e[33]=l[i],e}function il(s,l,i){const e=s.slice();return e[33]=l[i],e}function rl(s){let l,i,e,r,n,E,u=s[12],t=[];for(let o=0;o<u.length;o+=1)t[o]=fl(il(s,u,o));const c=o=>U(t[o],1,1,()=>{t[o]=null});return{c(){l=v("div"),i=v("div"),e=M("Swords"),r=S(),n=v("div");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){l=m(o,"DIV",{class:!0});var f=w(l);i=m(f,"DIV",{class:!0});var a=w(i);e=O(a,"Swords"),a.forEach(_),r=k(f),n=m(f,"DIV",{class:!0});var h=w(n);for(let b=0;b<t.length;b+=1)t[b].l(h);h.forEach(_),f.forEach(_),this.h()},h(){W(i,"class","label svelte-1x5cszy"),W(n,"class","category-container svelte-1x5cszy"),W(l,"class","category svelte-1x5cszy")},m(o,f){ne(o,l,f),p(l,i),p(i,e),p(l,r),p(l,n);for(let a=0;a<t.length;a+=1)t[a].m(n,null);E=!0},p(o,f){if(f[0]&1052735){u=o[12];let a;for(a=0;a<u.length;a+=1){const h=il(o,u,a);t[a]?(t[a].p(h,f),g(t[a],1)):(t[a]=fl(h),t[a].c(),g(t[a],1),t[a].m(n,null))}for(F(),a=u.length;a<t.length;a+=1)c(a);B()}},i(o){if(!E){for(let f=0;f<u.length;f+=1)g(t[f]);E=!0}},o(o){t=t.filter(Boolean);for(let f=0;f<t.length;f+=1)U(t[f]);E=!1},d(o){o&&_(l),de(t,o)}}}function fl(s){let l,i;return l=new ge({props:{allWeapons:s[3],equippedWeapons:s[0],weapon:s[33],onToggleEquip:s[20],isMagic:!1,spellUseFlag:0,equippedCombatSkills:s[1],equippedClass:s[2],weaponUses:s[4],onUpdateWeaponUses:s[5]}}),{c(){te(l.$$.fragment)},l(e){ae(l.$$.fragment,e)},m(e,r){oe(l,e,r),i=!0},p(e,r){const n={};r[0]&8&&(n.allWeapons=e[3]),r[0]&1&&(n.equippedWeapons=e[0]),r[0]&4096&&(n.weapon=e[33]),r[0]&1048576&&(n.onToggleEquip=e[20]),r[0]&2&&(n.equippedCombatSkills=e[1]),r[0]&4&&(n.equippedClass=e[2]),r[0]&16&&(n.weaponUses=e[4]),r[0]&32&&(n.onUpdateWeaponUses=e[5]),l.$set(n)},i(e){i||(g(l.$$.fragment,e),i=!0)},o(e){U(l.$$.fragment,e),i=!1},d(e){ie(l,e)}}}function ul(s){let l,i,e,r,n,E,u=s[9],t=[];for(let o=0;o<u.length;o+=1)t[o]=pl(ol(s,u,o));const c=o=>U(t[o],1,1,()=>{t[o]=null});return{c(){l=v("div"),i=v("div"),e=M("Lances"),r=S(),n=v("div");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){l=m(o,"DIV",{class:!0});var f=w(l);i=m(f,"DIV",{class:!0});var a=w(i);e=O(a,"Lances"),a.forEach(_),r=k(f),n=m(f,"DIV",{class:!0});var h=w(n);for(let b=0;b<t.length;b+=1)t[b].l(h);h.forEach(_),f.forEach(_),this.h()},h(){W(i,"class","label svelte-1x5cszy"),W(n,"class","category-container svelte-1x5cszy"),W(l,"class","category svelte-1x5cszy")},m(o,f){ne(o,l,f),p(l,i),p(i,e),p(l,r),p(l,n);for(let a=0;a<t.length;a+=1)t[a].m(n,null);E=!0},p(o,f){if(f[0]&1049151){u=o[9];let a;for(a=0;a<u.length;a+=1){const h=ol(o,u,a);t[a]?(t[a].p(h,f),g(t[a],1)):(t[a]=pl(h),t[a].c(),g(t[a],1),t[a].m(n,null))}for(F(),a=u.length;a<t.length;a+=1)c(a);B()}},i(o){if(!E){for(let f=0;f<u.length;f+=1)g(t[f]);E=!0}},o(o){t=t.filter(Boolean);for(let f=0;f<t.length;f+=1)U(t[f]);E=!1},d(o){o&&_(l),de(t,o)}}}function pl(s){let l,i;return l=new ge({props:{equippedWeapons:s[0],weapon:s[33],onToggleEquip:s[20],allWeapons:s[3],isMagic:!1,spellUseFlag:0,equippedCombatSkills:s[1],equippedClass:s[2],weaponUses:s[4],onUpdateWeaponUses:s[5]}}),{c(){te(l.$$.fragment)},l(e){ae(l.$$.fragment,e)},m(e,r){oe(l,e,r),i=!0},p(e,r){const n={};r[0]&1&&(n.equippedWeapons=e[0]),r[0]&512&&(n.weapon=e[33]),r[0]&1048576&&(n.onToggleEquip=e[20]),r[0]&8&&(n.allWeapons=e[3]),r[0]&2&&(n.equippedCombatSkills=e[1]),r[0]&4&&(n.equippedClass=e[2]),r[0]&16&&(n.weaponUses=e[4]),r[0]&32&&(n.onUpdateWeaponUses=e[5]),l.$set(n)},i(e){i||(g(l.$$.fragment,e),i=!0)},o(e){U(l.$$.fragment,e),i=!1},d(e){ie(l,e)}}}function cl(s){let l,i,e,r,n,E,u=s[13],t=[];for(let o=0;o<u.length;o+=1)t[o]=hl(nl(s,u,o));const c=o=>U(t[o],1,1,()=>{t[o]=null});return{c(){l=v("div"),i=v("div"),e=M("Axes"),r=S(),n=v("div");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){l=m(o,"DIV",{class:!0});var f=w(l);i=m(f,"DIV",{class:!0});var a=w(i);e=O(a,"Axes"),a.forEach(_),r=k(f),n=m(f,"DIV",{class:!0});var h=w(n);for(let b=0;b<t.length;b+=1)t[b].l(h);h.forEach(_),f.forEach(_),this.h()},h(){W(i,"class","label svelte-1x5cszy"),W(n,"class","category-container svelte-1x5cszy"),W(l,"class","category svelte-1x5cszy")},m(o,f){ne(o,l,f),p(l,i),p(i,e),p(l,r),p(l,n);for(let a=0;a<t.length;a+=1)t[a].m(n,null);E=!0},p(o,f){if(f[0]&1056831){u=o[13];let a;for(a=0;a<u.length;a+=1){const h=nl(o,u,a);t[a]?(t[a].p(h,f),g(t[a],1)):(t[a]=hl(h),t[a].c(),g(t[a],1),t[a].m(n,null))}for(F(),a=u.length;a<t.length;a+=1)c(a);B()}},i(o){if(!E){for(let f=0;f<u.length;f+=1)g(t[f]);E=!0}},o(o){t=t.filter(Boolean);for(let f=0;f<t.length;f+=1)U(t[f]);E=!1},d(o){o&&_(l),de(t,o)}}}function hl(s){let l,i;return l=new ge({props:{equippedWeapons:s[0],weapon:s[33],onToggleEquip:s[20],allWeapons:s[3],isMagic:!1,spellUseFlag:0,equippedCombatSkills:s[1],equippedClass:s[2],weaponUses:s[4],onUpdateWeaponUses:s[5]}}),{c(){te(l.$$.fragment)},l(e){ae(l.$$.fragment,e)},m(e,r){oe(l,e,r),i=!0},p(e,r){const n={};r[0]&1&&(n.equippedWeapons=e[0]),r[0]&8192&&(n.weapon=e[33]),r[0]&1048576&&(n.onToggleEquip=e[20]),r[0]&8&&(n.allWeapons=e[3]),r[0]&2&&(n.equippedCombatSkills=e[1]),r[0]&4&&(n.equippedClass=e[2]),r[0]&16&&(n.weaponUses=e[4]),r[0]&32&&(n.onUpdateWeaponUses=e[5]),l.$set(n)},i(e){i||(g(l.$$.fragment,e),i=!0)},o(e){U(l.$$.fragment,e),i=!1},d(e){ie(l,e)}}}function dl(s){let l,i,e,r,n,E,u=s[11],t=[];for(let o=0;o<u.length;o+=1)t[o]=gl(al(s,u,o));const c=o=>U(t[o],1,1,()=>{t[o]=null});return{c(){l=v("div"),i=v("div"),e=M("Bows"),r=S(),n=v("div");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){l=m(o,"DIV",{class:!0});var f=w(l);i=m(f,"DIV",{class:!0});var a=w(i);e=O(a,"Bows"),a.forEach(_),r=k(f),n=m(f,"DIV",{class:!0});var h=w(n);for(let b=0;b<t.length;b+=1)t[b].l(h);h.forEach(_),f.forEach(_),this.h()},h(){W(i,"class","label svelte-1x5cszy"),W(n,"class","category-container svelte-1x5cszy"),W(l,"class","category svelte-1x5cszy")},m(o,f){ne(o,l,f),p(l,i),p(i,e),p(l,r),p(l,n);for(let a=0;a<t.length;a+=1)t[a].m(n,null);E=!0},p(o,f){if(f[0]&1050687){u=o[11];let a;for(a=0;a<u.length;a+=1){const h=al(o,u,a);t[a]?(t[a].p(h,f),g(t[a],1)):(t[a]=gl(h),t[a].c(),g(t[a],1),t[a].m(n,null))}for(F(),a=u.length;a<t.length;a+=1)c(a);B()}},i(o){if(!E){for(let f=0;f<u.length;f+=1)g(t[f]);E=!0}},o(o){t=t.filter(Boolean);for(let f=0;f<t.length;f+=1)U(t[f]);E=!1},d(o){o&&_(l),de(t,o)}}}function gl(s){let l,i;return l=new ge({props:{equippedWeapons:s[0],weapon:s[33],onToggleEquip:s[20],allWeapons:s[3],isMagic:!1,spellUseFlag:0,equippedCombatSkills:s[1],equippedClass:s[2],weaponUses:s[4],onUpdateWeaponUses:s[5]}}),{c(){te(l.$$.fragment)},l(e){ae(l.$$.fragment,e)},m(e,r){oe(l,e,r),i=!0},p(e,r){const n={};r[0]&1&&(n.equippedWeapons=e[0]),r[0]&2048&&(n.weapon=e[33]),r[0]&1048576&&(n.onToggleEquip=e[20]),r[0]&8&&(n.allWeapons=e[3]),r[0]&2&&(n.equippedCombatSkills=e[1]),r[0]&4&&(n.equippedClass=e[2]),r[0]&16&&(n.weaponUses=e[4]),r[0]&32&&(n.onUpdateWeaponUses=e[5]),l.$set(n)},i(e){i||(g(l.$$.fragment,e),i=!0)},o(e){U(l.$$.fragment,e),i=!1},d(e){ie(l,e)}}}function _l(s){let l,i,e,r,n,E,u=s[10],t=[];for(let o=0;o<u.length;o+=1)t[o]=vl(tl(s,u,o));const c=o=>U(t[o],1,1,()=>{t[o]=null});return{c(){l=v("div"),i=v("div"),e=M("Fists"),r=S(),n=v("div");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){l=m(o,"DIV",{class:!0});var f=w(l);i=m(f,"DIV",{class:!0});var a=w(i);e=O(a,"Fists"),a.forEach(_),r=k(f),n=m(f,"DIV",{class:!0});var h=w(n);for(let b=0;b<t.length;b+=1)t[b].l(h);h.forEach(_),f.forEach(_),this.h()},h(){W(i,"class","label svelte-1x5cszy"),W(n,"class","category-container svelte-1x5cszy"),W(l,"class","category svelte-1x5cszy")},m(o,f){ne(o,l,f),p(l,i),p(i,e),p(l,r),p(l,n);for(let a=0;a<t.length;a+=1)t[a].m(n,null);E=!0},p(o,f){if(f[0]&1049663){u=o[10];let a;for(a=0;a<u.length;a+=1){const h=tl(o,u,a);t[a]?(t[a].p(h,f),g(t[a],1)):(t[a]=vl(h),t[a].c(),g(t[a],1),t[a].m(n,null))}for(F(),a=u.length;a<t.length;a+=1)c(a);B()}},i(o){if(!E){for(let f=0;f<u.length;f+=1)g(t[f]);E=!0}},o(o){t=t.filter(Boolean);for(let f=0;f<t.length;f+=1)U(t[f]);E=!1},d(o){o&&_(l),de(t,o)}}}function vl(s){let l,i;return l=new ge({props:{equippedWeapons:s[0],weapon:s[33],onToggleEquip:s[20],allWeapons:s[3],spellUseFlag:0,isMagic:!1,equippedCombatSkills:s[1],equippedClass:s[2],weaponUses:s[4],onUpdateWeaponUses:s[5]}}),{c(){te(l.$$.fragment)},l(e){ae(l.$$.fragment,e)},m(e,r){oe(l,e,r),i=!0},p(e,r){const n={};r[0]&1&&(n.equippedWeapons=e[0]),r[0]&1024&&(n.weapon=e[33]),r[0]&1048576&&(n.onToggleEquip=e[20]),r[0]&8&&(n.allWeapons=e[3]),r[0]&2&&(n.equippedCombatSkills=e[1]),r[0]&4&&(n.equippedClass=e[2]),r[0]&16&&(n.weaponUses=e[4]),r[0]&32&&(n.onUpdateWeaponUses=e[5]),l.$set(n)},i(e){i||(g(l.$$.fragment,e),i=!0)},o(e){U(l.$$.fragment,e),i=!1},d(e){ie(l,e)}}}function ml(s){let l,i,e,r,n,E,u,t=Array.from(s[14]),c=[];for(let f=0;f<t.length;f+=1)c[f]=Wl(sl(s,t,f));const o=f=>U(c[f],1,1,()=>{c[f]=null});return{c(){l=v("div"),i=v("div"),e=M("Training Weapons"),r=S(),n=v("div");for(let f=0;f<c.length;f+=1)c[f].c();this.h()},l(f){l=m(f,"DIV",{class:!0});var a=w(l);i=m(a,"DIV",{class:!0});var h=w(i);e=O(h,"Training Weapons"),h.forEach(_),r=k(a),n=m(a,"DIV",{class:!0});var b=w(n);for(let N=0;N<c.length;N+=1)c[N].l(b);b.forEach(_),a.forEach(_),this.h()},h(){W(i,"class","label svelte-1x5cszy"),W(n,"class","category-container svelte-1x5cszy"),W(l,"class",E=De(xe("category",{"min-width":s[16]}))+" svelte-1x5cszy")},m(f,a){ne(f,l,a),p(l,i),p(i,e),p(l,r),p(l,n);for(let h=0;h<c.length;h+=1)c[h].m(n,null);u=!0},p(f,a){if(a[0]&1065023){t=Array.from(f[14]);let h;for(h=0;h<t.length;h+=1){const b=sl(f,t,h);c[h]?(c[h].p(b,a),g(c[h],1)):(c[h]=Wl(b),c[h].c(),g(c[h],1),c[h].m(n,null))}for(F(),h=t.length;h<c.length;h+=1)o(h);B()}(!u||a[0]&65536&&E!==(E=De(xe("category",{"min-width":f[16]}))+" svelte-1x5cszy"))&&W(l,"class",E)},i(f){if(!u){for(let a=0;a<t.length;a+=1)g(c[a]);u=!0}},o(f){c=c.filter(Boolean);for(let a=0;a<c.length;a+=1)U(c[a]);u=!1},d(f){f&&_(l),de(c,f)}}}function Wl(s){let l,i;return l=new ge({props:{equippedWeapons:s[0],weapon:s[33],onToggleEquip:s[20],allWeapons:s[3],spellUseFlag:0,isMagic:!1,equippedCombatSkills:s[1],equippedClass:s[2],weaponUses:s[4],onUpdateWeaponUses:s[5]}}),{c(){te(l.$$.fragment)},l(e){ae(l.$$.fragment,e)},m(e,r){oe(l,e,r),i=!0},p(e,r){const n={};r[0]&1&&(n.equippedWeapons=e[0]),r[0]&16384&&(n.weapon=e[33]),r[0]&1048576&&(n.onToggleEquip=e[20]),r[0]&8&&(n.allWeapons=e[3]),r[0]&2&&(n.equippedCombatSkills=e[1]),r[0]&4&&(n.equippedClass=e[2]),r[0]&16&&(n.weaponUses=e[4]),r[0]&32&&(n.onUpdateWeaponUses=e[5]),l.$set(n)},i(e){i||(g(l.$$.fragment,e),i=!0)},o(e){U(l.$$.fragment,e),i=!1},d(e){ie(l,e)}}}function wl(s){let l,i,e,r=[...s[22],...s[21]],n=[];for(let u=0;u<r.length;u+=1)n[u]=El(ll(s,r,u));const E=u=>U(n[u],1,1,()=>{n[u]=null});return{c(){l=v("div"),i=v("div");for(let u=0;u<n.length;u+=1)n[u].c();this.h()},l(u){l=m(u,"DIV",{class:!0});var t=w(l);i=m(t,"DIV",{class:!0});var c=w(i);for(let o=0;o<n.length;o+=1)n[o].l(c);c.forEach(_),t.forEach(_),this.h()},h(){W(i,"class","category svelte-1x5cszy"),W(l,"class","magic-category svelte-1x5cszy")},m(u,t){ne(u,l,t),p(l,i);for(let c=0;c<n.length;c+=1)n[c].m(i,null);e=!0},p(u,t){if(t[0]&7372863){r=[...u[22],...u[21]];let c;for(c=0;c<r.length;c+=1){const o=ll(u,r,c);n[c]?(n[c].p(o,t),g(n[c],1)):(n[c]=El(o),n[c].c(),g(n[c],1),n[c].m(i,null))}for(F(),c=r.length;c<n.length;c+=1)E(c);B()}},i(u){if(!e){for(let t=0;t<r.length;t+=1)g(n[t]);e=!0}},o(u){n=n.filter(Boolean);for(let t=0;t<n.length;t+=1)U(n[t]);e=!1},d(u){u&&_(l),de(n,u)}}}function El(s){let l,i;return l=new ge({props:{equippedWeapons:s[0],weapon:s[33],onToggleEquip:s[20],allWeapons:s[3],isMagic:!0,spellUseFlag:s[15],equippedCombatSkills:s[1],equippedClass:s[2],weaponUses:s[4],onUpdateWeaponUses:s[5]}}),{c(){te(l.$$.fragment)},l(e){ae(l.$$.fragment,e)},m(e,r){oe(l,e,r),i=!0},p(e,r){const n={};r[0]&1&&(n.equippedWeapons=e[0]),r[0]&6291456&&(n.weapon=e[33]),r[0]&1048576&&(n.onToggleEquip=e[20]),r[0]&8&&(n.allWeapons=e[3]),r[0]&32768&&(n.spellUseFlag=e[15]),r[0]&2&&(n.equippedCombatSkills=e[1]),r[0]&4&&(n.equippedClass=e[2]),r[0]&16&&(n.weaponUses=e[4]),r[0]&32&&(n.onUpdateWeaponUses=e[5]),l.$set(n)},i(e){i||(g(l.$$.fragment,e),i=!0)},o(e){U(l.$$.fragment,e),i=!1},d(e){ie(l,e)}}}function Bl(s){let l,i,e,r,n,E,u,t,c,o,f,a,h,b,N,$,Q,_e,X,re,x,J,ve,P,K,me,ee,G,fe,j,le,C,We,we,Ee,d,R,qe,Y,Ue,ye,ze,se,Ie,Ae,ue,Ve,Ne,be,Me,Te,Oe,pe,ce,Be,Re;i=new Tl({props:{label:"Weapons"}});let T=s[12].length&&rl(s),D=s[9].length&&ul(s),y=s[13].length&&cl(s),z=s[11].length&&dl(s),I=s[10].length&&_l(s),A=s[14].size>0&&ml(s),V=(s[22].length||s[21].length)&&wl(s);return{c(){l=v("div"),te(i.$$.fragment),e=S(),r=v("div"),n=v("span"),E=M("Martial Weapons"),u=S(),t=v("div"),c=v("span"),o=M("Superiority Dies:"),f=S(),a=v("input"),b=S(),N=v("span"),$=M("/ "),Q=M(s[7]),_e=S(),X=v("button"),re=M("Reset Superiority Dice"),x=S(),J=v("button"),ve=M("Reset Spell Uses"),P=S(),K=v("button"),me=M("Unequip all weapons"),ee=S(),G=v("div"),fe=S(),j=v("div"),le=S(),C=v("div"),T&&T.c(),We=S(),D&&D.c(),we=S(),y&&y.c(),Ee=S(),z&&z.c(),d=S(),I&&I.c(),R=S(),A&&A.c(),qe=S(),Y=v("div"),Ue=v("span"),ye=M("Magic Weapons"),ze=S(),se=v("button"),Ie=M("Add new martial weapon"),Ae=S(),ue=v("button"),Ve=M("Add new magic weapon"),Ne=S(),be=v("div"),Me=S(),Te=v("div"),Oe=S(),pe=v("div"),V&&V.c(),this.h()},l(H){l=m(H,"DIV",{class:!0});var q=w(l);ae(i.$$.fragment,q),e=k(q),r=m(q,"DIV",{class:!0});var Z=w(r);n=m(Z,"SPAN",{});var Le=w(n);E=O(Le,"Martial Weapons"),Le.forEach(_),u=k(Z),t=m(Z,"DIV",{class:!0});var Se=w(t);c=m(Se,"SPAN",{});var Ge=w(c);o=O(Ge,"Superiority Dies:"),Ge.forEach(_),f=k(Se),a=m(Se,"INPUT",{type:!0,class:!0,min:!0}),b=k(Se),N=m(Se,"SPAN",{});var Fe=w(N);$=O(Fe,"/ "),Q=O(Fe,s[7]),Fe.forEach(_),Se.forEach(_),_e=k(Z),X=m(Z,"BUTTON",{class:!0});var Ye=w(X);re=O(Ye,"Reset Superiority Dice"),Ye.forEach(_),x=k(Z),J=m(Z,"BUTTON",{class:!0});var He=w(J);ve=O(He,"Reset Spell Uses"),He.forEach(_),P=k(Z),K=m(Z,"BUTTON",{class:!0});var Qe=w(K);me=O(Qe,"Unequip all weapons"),Qe.forEach(_),Z.forEach(_),ee=k(q),G=m(q,"DIV",{class:!0}),w(G).forEach(_),fe=k(q),j=m(q,"DIV",{class:!0}),w(j).forEach(_),le=k(q),C=m(q,"DIV",{class:!0});var L=w(C);T&&T.l(L),We=k(L),D&&D.l(L),we=k(L),y&&y.l(L),Ee=k(L),z&&z.l(L),d=k(L),I&&I.l(L),R=k(L),A&&A.l(L),L.forEach(_),qe=k(q),Y=m(q,"DIV",{class:!0});var ke=w(Y);Ue=m(ke,"SPAN",{});var Xe=w(Ue);ye=O(Xe,"Magic Weapons"),Xe.forEach(_),ze=k(ke),se=m(ke,"BUTTON",{class:!0});var Je=w(se);Ie=O(Je,"Add new martial weapon"),Je.forEach(_),Ae=k(ke),ue=m(ke,"BUTTON",{class:!0});var Ke=w(ue);Ve=O(Ke,"Add new magic weapon"),Ke.forEach(_),ke.forEach(_),Ne=k(q),be=m(q,"DIV",{class:!0}),w(be).forEach(_),Me=k(q),Te=m(q,"DIV",{class:!0}),w(Te).forEach(_),Oe=k(q),pe=m(q,"DIV",{class:!0});var je=w(pe);V&&V.l(je),je.forEach(_),q.forEach(_),this.h()},h(){W(a,"type","number"),W(a,"class",h=De(`die-input ${s[6]<=0?"bad":s[6]<=Math.ceil(s[7]/3)?"danger":""}`)+" svelte-1x5cszy"),W(a,"min","0"),a.value=s[6],he(a,"width","25px",!1),W(t,"class","superiority-die svelte-1x5cszy"),W(X,"class","svelte-1x5cszy"),W(J,"class","svelte-1x5cszy"),W(K,"class","svelte-1x5cszy"),W(r,"class","actions svelte-1x5cszy"),he(r,"white-space","nowrap",!1),W(G,"class","divider svelte-1x5cszy"),he(G,"height","2px",!1),W(j,"class","divider svelte-1x5cszy"),W(C,"class","martial-weapons svelte-1x5cszy"),he(Ue,"flex","1",!1),W(se,"class","svelte-1x5cszy"),he(se,"margin-right","5px",!1),W(ue,"class","svelte-1x5cszy"),W(Y,"class","actions svelte-1x5cszy"),he(Y,"white-space","nowrap",!1),W(be,"class","divider svelte-1x5cszy"),he(be,"height","2px",!1),W(Te,"class","divider svelte-1x5cszy"),W(pe,"class","magic-weapons svelte-1x5cszy"),W(l,"class","container svelte-1x5cszy")},m(H,q){ne(H,l,q),oe(i,l,null),p(l,e),p(l,r),p(r,n),p(n,E),p(r,u),p(r,t),p(t,c),p(c,o),p(t,f),p(t,a),p(t,b),p(t,N),p(N,$),p(N,Q),p(r,_e),p(r,X),p(X,re),p(r,x),p(r,J),p(J,ve),p(r,P),p(r,K),p(K,me),p(l,ee),p(l,G),p(l,fe),p(l,j),p(l,le),p(l,C),T&&T.m(C,null),p(C,We),D&&D.m(C,null),p(C,we),y&&y.m(C,null),p(C,Ee),z&&z.m(C,null),p(C,d),I&&I.m(C,null),p(C,R),A&&A.m(C,null),p(l,qe),p(l,Y),p(Y,Ue),p(Ue,ye),p(Y,ze),p(Y,se),p(se,Ie),p(Y,Ae),p(Y,ue),p(ue,Ve),p(l,Ne),p(l,be),p(l,Me),p(l,Te),p(l,Oe),p(l,pe),V&&V.m(pe,null),ce=!0,Be||(Re=[Ce(a,"change",s[29]),Ce(X,"click",s[30]),Ce(J,"click",s[31]),Ce(K,"click",function(){Pe(s[19])&&s[19].apply(this,arguments)}),Ce(se,"click",function(){Pe(s[18])&&s[18].apply(this,arguments)}),Ce(ue,"click",function(){Pe(s[17])&&s[17].apply(this,arguments)})],Be=!0)},p(H,q){s=H,(!ce||q[0]&192&&h!==(h=De(`die-input ${s[6]<=0?"bad":s[6]<=Math.ceil(s[7]/3)?"danger":""}`)+" svelte-1x5cszy"))&&W(a,"class",h),(!ce||q[0]&64&&a.value!==s[6])&&(a.value=s[6]),(!ce||q[0]&128)&&Sl(Q,s[7]),s[12].length?T?(T.p(s,q),q[0]&4096&&g(T,1)):(T=rl(s),T.c(),g(T,1),T.m(C,We)):T&&(F(),U(T,1,1,()=>{T=null}),B()),s[9].length?D?(D.p(s,q),q[0]&512&&g(D,1)):(D=ul(s),D.c(),g(D,1),D.m(C,we)):D&&(F(),U(D,1,1,()=>{D=null}),B()),s[13].length?y?(y.p(s,q),q[0]&8192&&g(y,1)):(y=cl(s),y.c(),g(y,1),y.m(C,Ee)):y&&(F(),U(y,1,1,()=>{y=null}),B()),s[11].length?z?(z.p(s,q),q[0]&2048&&g(z,1)):(z=dl(s),z.c(),g(z,1),z.m(C,d)):z&&(F(),U(z,1,1,()=>{z=null}),B()),s[10].length?I?(I.p(s,q),q[0]&1024&&g(I,1)):(I=_l(s),I.c(),g(I,1),I.m(C,R)):I&&(F(),U(I,1,1,()=>{I=null}),B()),s[14].size>0?A?(A.p(s,q),q[0]&16384&&g(A,1)):(A=ml(s),A.c(),g(A,1),A.m(C,null)):A&&(F(),U(A,1,1,()=>{A=null}),B()),s[22].length||s[21].length?V?(V.p(s,q),q[0]&6291456&&g(V,1)):(V=wl(s),V.c(),g(V,1),V.m(pe,null)):V&&(F(),U(V,1,1,()=>{V=null}),B())},i(H){ce||(g(i.$$.fragment,H),g(T),g(D),g(y),g(z),g(I),g(A),g(V),ce=!0)},o(H){U(i.$$.fragment,H),U(T),U(D),U(y),U(z),U(I),U(A),U(V),ce=!1},d(H){H&&_(l),ie(i),T&&T.d(),D&&D.d(),y&&y.d(),z&&z.d(),I&&I.d(),A&&A.d(),V&&V.d(),Be=!1,kl(Re)}}}function Fl(s,l,i){let e,r,n,E,u,t,c,o,f,a,h,b,N,$,Q,_e;const{open:X}=Cl(Dl.MODAL);let{equippedWeapons:re}=l,{onToggleEquippedWeapons:x}=l,{equippedCombatSkills:J}=l,{equippedClass:ve}=l,{allWeapons:P}=l,{weaponUses:K}=l,{onUpdateWeaponUses:me}=l,{customWeapons:ee}=l,{onUpdateCustomWeapons:G}=l,{curSuperiorityDies:fe}=l,{maxSuperiorityDie:j}=l,{setCurSuperiorityDie:le}=l,C=0;const We=d=>{const R=parseInt(d.currentTarget.value);R>=0&&R<=j?(le(R),d.currentTarget.value=R+""):d.currentTarget.value=fe+""},we=()=>le(j),Ee=()=>i(15,C+=1);return s.$$set=d=>{"equippedWeapons"in d&&i(0,re=d.equippedWeapons),"onToggleEquippedWeapons"in d&&i(23,x=d.onToggleEquippedWeapons),"equippedCombatSkills"in d&&i(1,J=d.equippedCombatSkills),"equippedClass"in d&&i(2,ve=d.equippedClass),"allWeapons"in d&&i(3,P=d.allWeapons),"weaponUses"in d&&i(4,K=d.weaponUses),"onUpdateWeaponUses"in d&&i(5,me=d.onUpdateWeaponUses),"customWeapons"in d&&i(24,ee=d.customWeapons),"onUpdateCustomWeapons"in d&&i(25,G=d.onUpdateCustomWeapons),"curSuperiorityDies"in d&&i(6,fe=d.curSuperiorityDies),"maxSuperiorityDie"in d&&i(7,j=d.maxSuperiorityDie),"setCurSuperiorityDie"in d&&i(8,le=d.setCurSuperiorityDie)},s.$$.update=()=>{s.$$.dirty[0]&8&&i(28,e=P.fullFeatures),s.$$.dirty[0]&268435464&&i(22,r=P.fullArray.filter(d=>e[d].type===Ze.REASON)),s.$$.dirty[0]&268435464&&i(21,n=P.fullArray.filter(d=>e[d].type===Ze.FAITH)),s.$$.dirty[0]&8388608&&i(20,E=d=>{x(d)}),s.$$.dirty[0]&8388609&&i(19,u=()=>re.forEach(d=>x(d))),s.$$.dirty[0]&318767112&&i(18,t=()=>{X(el,{weapon:yl.filter(d=>!P.fullSet.has(d)),weaponsToFeatures:e,defaultReason:"Manually added in weapons section",customWeapons:ee,onUpdateCustomWeapons:G})}),s.$$.dirty[0]&318767112&&i(17,c=()=>{X(el,{weapon:zl.filter(d=>!P.fullSet.has(d)),weaponsToFeatures:e,defaultReason:"Manually added in weapons section",customWeapons:ee,onUpdateCustomWeapons:G})}),s.$$.dirty[0]&8&&i(26,o=P.fullSet),s.$$.dirty[0]&268435464&&i(27,f=P.fullArray.reduce((d,R)=>{const qe=e[R].type;return!$e.has(R)&&!Il.includes(qe)&&d.add(qe),d},new Set)),s.$$.dirty[0]&134217728&&i(14,a=new Set(f.size<4?Array.from($e):[])),s.$$.dirty[0]&67125248&&i(12,h=Al.filter(d=>o.has(d)&&!a.has(d))),s.$$.dirty[0]&67125248&&i(9,b=Vl.filter(d=>o.has(d)&&!a.has(d))),s.$$.dirty[0]&67125248&&i(13,N=Nl.filter(d=>o.has(d)&&!a.has(d))),s.$$.dirty[0]&67125248&&i(11,$=Ml.filter(d=>o.has(d)&&!a.has(d))),s.$$.dirty[0]&67125248&&i(10,Q=Ol.filter(d=>o.has(d)&&!a.has(d))),s.$$.dirty[0]&15872&&i(16,_e=!(N!=null&&N.length)&&!(h!=null&&h.length)&&!($!=null&&$.length)&&!(Q!=null&&Q.length)&&!(b!=null&&b.length))},[re,J,ve,P,K,me,fe,j,le,b,Q,$,h,N,a,C,_e,c,t,u,E,n,r,x,ee,G,o,f,e,We,we,Ee]}class jl extends ql{constructor(l){super(),Ul(this,l,Fl,Bl,bl,{equippedWeapons:0,onToggleEquippedWeapons:23,equippedCombatSkills:1,equippedClass:2,allWeapons:3,weaponUses:4,onUpdateWeaponUses:5,customWeapons:24,onUpdateCustomWeapons:25,curSuperiorityDies:6,maxSuperiorityDie:7,setCurSuperiorityDie:8},null,[-1,-1])}}export{jl as default};
