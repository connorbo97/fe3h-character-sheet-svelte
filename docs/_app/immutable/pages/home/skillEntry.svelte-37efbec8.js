import{S as $,i as x,s as ee,l as S,w as q,a as O,r as B,m as T,n as b,x as H,c as L,u as R,h as m,p as N,b as F,y as J,J as d,K as z,v as D,f as G,t as Q,B as Z,a3 as le,E as te,Y as se}from"../../chunks/index-d5d48e27.js";import{S as ie}from"../../chunks/SvelteTip-cf62352a.js";import{U as ae}from"../../chunks/unlockedButton-2d160252.js";import{P as ne,C as re}from"../../chunks/constants-56e6b6a8.js";import{A as V,U as y,V as oe,h as w,r as fe,j as ce,D as ue}from"../../chunks/weaponLevel-1d872777.js";import{g as _e}from"../../chunks/utils-edd64bc1.js";import"../../chunks/enums-eee6a708.js";function K(a,e,l){const t=a.slice();return t[16]=e[l],t}function he(a){let e,l;return e=new ae({props:{isUnlocked:a[0][a[3]]===y.PROFICIENT||a[0][a[3]]===y.AWFUL,isMastered:a[0][a[3]]===y.EXPERT,onClick:a[13],unlockedFilter:a[0][a[3]]===y.PROFICIENT?"sepia(100%) saturate(1000%) brightness(45%) hue-rotate(174deg)":"sepia(100%) saturate(1000%) brightness(45%) hue-rotate(287deg)"}}),{c(){q(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,i){J(e,t,i),l=!0},p(t,i){const s={};i&9&&(s.isUnlocked=t[0][t[3]]===y.PROFICIENT||t[0][t[3]]===y.AWFUL),i&9&&(s.isMastered=t[0][t[3]]===y.EXPERT),i&12&&(s.onClick=t[13]),i&9&&(s.unlockedFilter=t[0][t[3]]===y.PROFICIENT?"sepia(100%) saturate(1000%) brightness(45%) hue-rotate(174deg)":"sepia(100%) saturate(1000%) brightness(45%) hue-rotate(287deg)"),e.$set(s)},i(t){l||(G(e.$$.fragment,t),l=!0)},o(t){Q(e.$$.fragment,t),l=!1},d(t){Z(e,t)}}}function de(a){let e,l;return{c(){e=S("div"),l=B("From Master/Current Class"),this.h()},l(t){e=T(t,"DIV",{slot:!0});var i=b(e);l=R(i,"From Master/Current Class"),i.forEach(m),this.h()},h(){N(e,"slot","t")},m(t,i){F(t,e,i),d(e,l)},p:te,d(t){t&&m(e)}}}function X(a){let e,l,t,i=a[6],s=[];for(let n=0;n<i.length;n+=1)s[n]=W(K(a,i,n));return{c(){e=S("select");for(let n=0;n<s.length;n+=1)s[n].c();this.h()},l(n){e=T(n,"SELECT",{name:!0});var f=b(e);for(let r=0;r<s.length;r+=1)s[r].l(f);f.forEach(m),this.h()},h(){N(e,"name","stat-type")},m(n,f){F(n,e,f);for(let r=0;r<s.length;r+=1)s[r].m(e,null);l||(t=z(e,"change",a[15]),l=!0)},p(n,f){if(f&96){i=n[6];let r;for(r=0;r<i.length;r+=1){const g=K(n,i,r);s[r]?s[r].p(g,f):(s[r]=W(g),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},d(n){n&&m(e),se(s,n),l=!1,t()}}}function W(a){let e,l=w[a[16]]+"",t,i,s,n;return{c(){e=S("option"),t=B(l),i=O(),this.h()},l(f){e=T(f,"OPTION",{});var r=b(e);t=R(r,l),i=L(r),r.forEach(m),this.h()},h(){e.__value=s=a[16],e.value=e.__value,e.selected=n=a[5]===a[16]},m(f,r){F(f,e,r),d(e,t),d(e,i)},p(f,r){r&64&&l!==(l=w[f[16]]+"")&&D(t,l),r&64&&s!==(s=f[16])&&(e.__value=s,e.value=e.__value),r&96&&n!==(n=f[5]===f[16])&&(e.selected=n)},d(f){f&&m(e)}}}function j(a){let e,l=`(${w[a[5]]})`,t;return{c(){e=S("span"),t=B(l)},l(i){e=T(i,"SPAN",{});var s=b(e);t=R(s,l),s.forEach(m)},m(i,s){F(i,e,s),d(e,t)},p(i,s){s&32&&l!==(l=`(${w[i[5]]})`)&&D(t,l)},d(i){i&&m(e)}}}function me(a){let e,l,t,i,s,n,f=a[9]+a[8]+a[7]+"",r,g,E=`${V[a[3]]} `,P,C,h=Array.isArray(a[6]),v,p=!Array.isArray(a[6]),A,I,M;l=new ie({props:{disabled:a[1][a[3]]===void 0,$$slots:{t:[de],default:[he]},$$scope:{ctx:a}}});let o=h&&X(a),u=p&&j(a);return{c(){e=S("div"),q(l.$$.fragment),t=O(),i=S("div"),s=S("span"),n=S("span"),r=B(f),g=O(),P=B(E),C=O(),o&&o.c(),v=O(),u&&u.c(),this.h()},l(c){e=T(c,"DIV",{class:!0});var _=b(e);H(l.$$.fragment,_),t=L(_),i=T(_,"DIV",{class:!0});var k=b(i);s=T(k,"SPAN",{class:!0});var U=b(s);n=T(U,"SPAN",{class:!0});var Y=b(n);r=R(Y,f),Y.forEach(m),g=L(U),P=R(U,E),U.forEach(m),C=L(k),o&&o.l(k),v=L(k),u&&u.l(k),k.forEach(m),_.forEach(m),this.h()},h(){N(n,"class","total"),N(s,"class","label-text svelte-7dm9fu"),N(i,"class","label"),N(e,"class","container svelte-7dm9fu")},m(c,_){F(c,e,_),J(l,e,null),d(e,t),d(e,i),d(i,s),d(s,n),d(n,r),d(s,g),d(s,P),d(i,C),o&&o.m(i,null),d(i,v),u&&u.m(i,null),A=!0,I||(M=z(s,"click",a[14]),I=!0)},p(c,[_]){const k={};_&10&&(k.disabled=c[1][c[3]]===void 0),_&524301&&(k.$$scope={dirty:_,ctx:c}),l.$set(k),(!A||_&896)&&f!==(f=c[9]+c[8]+c[7]+"")&&D(r,f),(!A||_&8)&&E!==(E=`${V[c[3]]} `)&&D(P,E),_&64&&(h=Array.isArray(c[6])),h?o?o.p(c,_):(o=X(c),o.c(),o.m(i,v)):o&&(o.d(1),o=null),_&64&&(p=!Array.isArray(c[6])),p?u?u.p(c,_):(u=j(c),u.c(),u.m(i,null)):u&&(u.d(1),u=null)},i(c){A||(G(l.$$.fragment,c),A=!0)},o(c){Q(l.$$.fragment,c),A=!1},d(c){c&&m(e),Z(l),o&&o.d(),u&&u.d(),I=!1,M()}}}function ge(a,e,l){let t,i,s,n,f,{stats:r}=e,{skillProficiency:g}=e,{classProficiencies:E}=e,{skillBonus:P}=e,{onToggleSkillProficiency:C}=e,{skill:h}=e,{playerName:v}=e,p=Array.isArray(n)?n[0]:n;const A=()=>C(h),I=()=>fe([ue.d20],{modifier:[i+s+f],chatEntryOnRes:{playerName:v,rollName:V[h],rollBonus:ce([i+s+f])},db:t}),M=o=>{l(5,p=o.currentTarget.value)};return a.$$set=o=>{"stats"in o&&l(11,r=o.stats),"skillProficiency"in o&&l(0,g=o.skillProficiency),"classProficiencies"in o&&l(1,E=o.classProficiencies),"skillBonus"in o&&l(12,P=o.skillBonus),"onToggleSkillProficiency"in o&&l(2,C=o.onToggleSkillProficiency),"skill"in o&&l(3,h=o.skill),"playerName"in o&&l(4,v=o.playerName)},a.$$.update=()=>{a.$$.dirty&4104&&l(9,i=P[h]||0),a.$$.dirty&9&&l(8,s=g[h]!==y.NONE&&g[h]!==void 0?ne*(g[h]||1):0),a.$$.dirty&8&&l(6,n=oe[h]),a.$$.dirty&64&&l(5,p=Array.isArray(n)?n[0]:n),a.$$.dirty&2080&&l(7,f=_e(r[p]))},l(10,t=le(re.DB)),[g,E,C,h,v,p,n,f,s,i,t,r,P,A,I,M]}class Se extends ${constructor(e){super(),x(this,e,ge,me,ee,{stats:11,skillProficiency:0,classProficiencies:1,skillBonus:12,onToggleSkillProficiency:2,skill:3,playerName:4})}}export{Se as default};
