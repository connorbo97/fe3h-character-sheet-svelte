import{S as j,i as K,s as F,l as C,w as P,a as O,m as k,n as S,x as I,c as A,h as _,q as X,p as E,b as q,y as D,J as h,f as T,d as H,t as y,B,Y as J,a3 as R,r as b,u as v,K as w,T as Y,g as z,v as G,E as Q}from"../../chunks/index-d5d48e27.js";import{C as W}from"../../chunks/categoryHeader-f8b5a27f.js";import{P as Z}from"../../chunks/pickOnePrompt-78f18453.js";import{S as $}from"../../chunks/SvelteTip-cf62352a.js";import{C as x,a as V}from"../../chunks/constants-56e6b6a8.js";import{C as tt}from"../../chunks/weaponLevel-1d872777.js";import{P as et,T as lt}from"../../chunks/enums-eee6a708.js";import ot from"./combatSkillEntry.svelte-75984f45.js";import"../../chunks/equippedButton-566568f6.js";function L(n,t,s){const o=n.slice();return o[11]=t[s],o}function st(n){let t,s,o=n[0].length+"",i,u,m,p,c,a;return{c(){t=C("span"),s=b("("),i=b(o),u=b("/"),m=b(V),p=b(")")},l(d){t=k(d,"SPAN",{});var e=S(t);s=v(e,"("),i=v(e,o),u=v(e,"/"),m=v(e,V),p=v(e,")"),e.forEach(_)},m(d,e){q(d,t,e),h(t,s),h(t,i),h(t,u),h(t,m),h(t,p),c||(a=w(t,"click",n[9]),c=!0)},p(d,e){e&1&&o!==(o=d[0].length+"")&&G(i,o)},d(d){d&&_(t),c=!1,a()}}}function at(n){let t,s;return{c(){t=C("div"),s=b("Click to Clear All"),this.h()},l(o){t=k(o,"DIV",{slot:!0});var i=S(t);s=v(i,"Click to Clear All"),i.forEach(_),this.h()},h(){E(t,"slot","t")},m(o,i){q(o,t,i),h(t,s)},p:Q,d(o){o&&_(t)}}}function nt(n){let t,s,o,i,u,m,p,c,a,d,e,r;return m=new $({props:{tooltipStyle:lt.BOTTOM_CENTER,$$slots:{t:[at],default:[st]},$$scope:{ctx:n}}}),{c(){t=C("div"),s=C("div"),o=C("span"),i=b("Combat Skills"),u=O(),P(m.$$.fragment),p=O(),c=C("button"),a=b("+"),this.h()},l(f){t=k(f,"DIV",{slot:!0,class:!0});var l=S(t);s=k(l,"DIV",{});var g=S(s);o=k(g,"SPAN",{});var M=S(o);i=v(M,"Combat Skills"),M.forEach(_),u=A(g),I(m.$$.fragment,g),g.forEach(_),p=A(l),c=k(l,"BUTTON",{class:!0});var U=S(c);a=v(U,"+"),U.forEach(_),l.forEach(_),this.h()},h(){E(c,"class","svelte-1sd84cd"),E(t,"slot","content"),E(t,"class","header svelte-1sd84cd")},m(f,l){q(f,t,l),h(t,s),h(s,o),h(o,i),h(s,u),D(m,s,null),h(t,p),h(t,c),h(c,a),d=!0,e||(r=w(c,"click",function(){Y(n[2])&&n[2].apply(this,arguments)}),e=!0)},p(f,l){n=f;const g={};l&16387&&(g.$$scope={dirty:l,ctx:n}),m.$set(g)},i(f){d||(T(m.$$.fragment,f),d=!0)},o(f){y(m.$$.fragment,f),d=!1},d(f){f&&_(t),B(m),e=!1,r()}}}function N(n){let t,s;return t=new ot({props:{skill:n[11],feature:n[3][n[11]],isEquipped:n[0].indexOf(n[11])!==-1,onToggleCombatSkill:n[1],numEquipped:n[0].length}}),{c(){P(t.$$.fragment)},l(o){I(t.$$.fragment,o)},m(o,i){D(t,o,i),s=!0},p(o,i){const u={};i&16&&(u.skill=o[11]),i&24&&(u.feature=o[3][o[11]]),i&17&&(u.isEquipped=o[0].indexOf(o[11])!==-1),i&2&&(u.onToggleCombatSkill=o[1]),i&1&&(u.numEquipped=o[0].length),t.$set(u)},i(o){s||(T(t.$$.fragment,o),s=!0)},o(o){y(t.$$.fragment,o),s=!1},d(o){B(t,o)}}}function it(n){let t,s,o,i,u,m,p;s=new W({props:{$$slots:{content:[nt]},$$scope:{ctx:n}}});let c=n[4],a=[];for(let e=0;e<c.length;e+=1)a[e]=N(L(n,c,e));const d=e=>y(a[e],1,1,()=>{a[e]=null});return{c(){t=C("div"),P(s.$$.fragment),o=O(),i=C("div"),u=O(),m=C("div");for(let e=0;e<a.length;e+=1)a[e].c();this.h()},l(e){t=k(e,"DIV",{class:!0});var r=S(t);I(s.$$.fragment,r),o=A(r),i=k(r,"DIV",{}),S(i).forEach(_),u=A(r),m=k(r,"DIV",{class:!0});var f=S(m);for(let l=0;l<a.length;l+=1)a[l].l(f);f.forEach(_),r.forEach(_),this.h()},h(){X(i,"height","11px",!1),E(m,"class","content svelte-1sd84cd"),E(t,"class","container svelte-1sd84cd")},m(e,r){q(e,t,r),D(s,t,null),h(t,o),h(t,i),h(t,u),h(t,m);for(let f=0;f<a.length;f+=1)a[f].m(m,null);p=!0},p(e,[r]){const f={};if(r&16391&&(f.$$scope={dirty:r,ctx:e}),s.$set(f),r&27){c=e[4];let l;for(l=0;l<c.length;l+=1){const g=L(e,c,l);a[l]?(a[l].p(g,r),T(a[l],1)):(a[l]=N(g),a[l].c(),T(a[l],1),a[l].m(m,null))}for(z(),l=c.length;l<a.length;l+=1)d(l);H()}},i(e){if(!p){T(s.$$.fragment,e);for(let r=0;r<c.length;r+=1)T(a[r]);p=!0}},o(e){y(s.$$.fragment,e),a=a.filter(Boolean);for(let r=0;r<a.length;r+=1)y(a[r]);p=!1},d(e){e&&_(t),B(s),J(a,e)}}}function rt(n,t,s){let o,i,u,m;const{open:p}=R(x.MODAL);let{allCombatSkills:c}=t,{equippedCombatSkills:a}=t,{onToggleCombatSkill:d}=t,{customCombatSkills:e}=t,{onUpdateCustomCombatSkills:r}=t;const f=()=>a.forEach(l=>{d(l)});return n.$$set=l=>{"allCombatSkills"in l&&s(5,c=l.allCombatSkills),"equippedCombatSkills"in l&&s(0,a=l.equippedCombatSkills),"onToggleCombatSkill"in l&&s(1,d=l.onToggleCombatSkill),"customCombatSkills"in l&&s(6,e=l.customCombatSkills),"onUpdateCustomCombatSkills"in l&&s(7,r=l.onUpdateCustomCombatSkills)},n.$$.update=()=>{n.$$.dirty&32&&s(4,o=c.fullArray),n.$$.dirty&32&&s(3,i=c.fullFeatures),n.$$.dirty&32&&s(8,u=Object.values(tt).filter(l=>!c.fullSet.has(l))),n.$$.dirty&448&&s(2,m=()=>{p(Z,{pickOne:[{type:et.CombatSkill,options:u}],reason:"Manually adding in combat skills section",customCombatSkills:e,onUpdateCustomCombatSkills:l=>r(Object.assign(Object.assign({},e),l))})})},[a,d,m,i,o,c,e,r,u,f]}class Ct extends j{constructor(t){super(),K(this,t,rt,it,F,{allCombatSkills:5,equippedCombatSkills:0,onToggleCombatSkill:1,customCombatSkills:6,onUpdateCustomCombatSkills:7})}}export{Ct as default};
