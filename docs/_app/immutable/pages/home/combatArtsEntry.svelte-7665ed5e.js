import{S as ee,i as le,s as te,l as k,r as S,a as y,w as ie,m as q,n as I,u as P,h as c,c as W,x as se,p as g,Q as O,b as C,J as v,y as ne,K as J,v as w,f as ae,t as oe,Y as re,B as fe,L as ue,e as K,ag as L}from"../../chunks/index-d5d48e27.js";import{E as ce}from"../../chunks/equippedButton-566568f6.js";import{M as Q}from"../../chunks/constants-56e6b6a8.js";import{x as pe,F as R}from"../../chunks/weaponLevel-1d872777.js";import"../../chunks/editor.svelte_svelte_type_style_lang-7e31c381.js";import"../../chunks/preload-helper-703ceea7.js";import"../../chunks/enums-eee6a708.js";function X(n,e,l){const t=n.slice();return t[13]=e[l],t}function j(n){let e,l,t;return{c(){e=k("img"),this.h()},l(i){e=q(i,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){var i;g(e,"class",l=O(`icon ${(i=n[3])!=null&&i.has(n[13])?"equipped":"not-equipped"}`)+" svelte-tg3npo"),L(e.src,t=R[n[13]])||g(e,"src",t),g(e,"alt","icon")},m(i,a){C(i,e,a)},p(i,a){var s;a&136&&l!==(l=O(`icon ${(s=i[3])!=null&&s.has(i[13])?"equipped":"not-equipped"}`)+" svelte-tg3npo")&&g(e,"class",l),a&128&&!L(e.src,t=R[i[13]])&&g(e,"src",t)},d(i){i&&c(e)}}}function z(n){let e,l=R[n[13]]&&j(n);return{c(){l&&l.c(),e=K()},l(t){l&&l.l(t),e=K()},m(t,i){l&&l.m(t,i),C(t,e,i)},p(t,i){R[t[13]]?l?l.p(t,i):(l=j(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){l&&l.d(t),t&&c(e)}}}function H(n){var r,D;let e,l,t,i=((r=n[4][n[0]])==null?void 0:r.reason)&&U(n),a=n[6]&&Z(n),s=((D=n[4][n[0]])==null?void 0:D.description)&&$(n);return{c(){e=k("div"),i&&i.c(),l=y(),a&&a.c(),t=y(),s&&s.c(),this.h()},l(f){e=q(f,"DIV",{class:!0});var u=I(e);i&&i.l(u),l=W(u),a&&a.l(u),t=W(u),s&&s.l(u),u.forEach(c),this.h()},h(){g(e,"class","description svelte-tg3npo")},m(f,u){C(f,e,u),i&&i.m(e,null),v(e,l),a&&a.m(e,null),v(e,t),s&&s.m(e,null)},p(f,u){var E,A;(E=f[4][f[0]])!=null&&E.reason?i?i.p(f,u):(i=U(f),i.c(),i.m(e,l)):i&&(i.d(1),i=null),f[6]?a?a.p(f,u):(a=Z(f),a.c(),a.m(e,t)):a&&(a.d(1),a=null),(A=f[4][f[0]])!=null&&A.description?s?s.p(f,u):(s=$(f),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(f){f&&c(e),i&&i.d(),a&&a.d(),s&&s.d()}}}function U(n){let e,l=n[4][n[0]].reason+"",t,i,a;return{c(){e=k("div"),t=S(l),i=y(),a=k("br"),this.h()},l(s){e=q(s,"DIV",{class:!0});var r=I(e);t=P(r,l),r.forEach(c),i=W(s),a=q(s,"BR",{}),this.h()},h(){g(e,"class","reason svelte-tg3npo")},m(s,r){C(s,e,r),v(e,t),C(s,i,r),C(s,a,r)},p(s,r){r&17&&l!==(l=s[4][s[0]].reason+"")&&w(t,l)},d(s){s&&c(e),s&&c(i),s&&c(a)}}}function Z(n){let e,l;return{c(){e=k("span"),l=S(n[6])},l(t){e=q(t,"SPAN",{});var i=I(e);l=P(i,n[6]),i.forEach(c)},m(t,i){C(t,e,i),v(e,l)},p(t,i){i&64&&w(l,t[6])},d(t){t&&c(e)}}}function $(n){let e,l,t=n[4][n[0]].description+"",i,a=n[6]&&x();return{c(){a&&a.c(),e=y(),l=k("div"),i=S(t),this.h()},l(s){a&&a.l(s),e=W(s),l=q(s,"DIV",{class:!0});var r=I(l);i=P(r,t),r.forEach(c),this.h()},h(){g(l,"class","description-extra svelte-tg3npo")},m(s,r){a&&a.m(s,r),C(s,e,r),C(s,l,r),v(l,i)},p(s,r){s[6]?a||(a=x(),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),r&17&&t!==(t=s[4][s[0]].description+"")&&w(i,t)},d(s){a&&a.d(s),s&&c(e),s&&c(l)}}}function x(n){let e;return{c(){e=k("br")},l(l){e=q(l,"BR",{})},m(l,t){C(l,e,t)},d(l){l&&c(e)}}}function _e(n){let e,l,t,i,a=n[4][n[0]].label+"",s,r,D,f,u,E,A,T,M,V,b,G,B=n[7],_=[];for(let o=0;o<B.length;o+=1)_[o]=z(X(n,B,o));T=new ce({props:{isEquipped:n[1].includes(n[0]),onClick:n[12],isVisible:n[1].length<Q||n[1].includes(n[0])}});let d=n[5]&&H(n);return{c(){e=k("div"),l=k("div"),t=k("div"),i=k("span"),s=S(a),r=y();for(let o=0;o<_.length;o+=1)_[o].c();D=y(),f=k("div"),u=S("v"),A=y(),ie(T.$$.fragment),M=y(),d&&d.c(),this.h()},l(o){e=q(o,"DIV",{class:!0});var m=I(e);l=q(m,"DIV",{class:!0});var h=I(l);t=q(h,"DIV",{class:!0});var p=I(t);i=q(p,"SPAN",{});var N=I(i);s=P(N,a),N.forEach(c),r=W(p);for(let F=0;F<_.length;F+=1)_[F].l(p);p.forEach(c),D=W(h),f=q(h,"DIV",{class:!0});var Y=I(f);u=P(Y,"v"),Y.forEach(c),A=W(h),se(T.$$.fragment,h),h.forEach(c),M=W(m),d&&d.l(m),m.forEach(c),this.h()},h(){g(t,"class","label svelte-tg3npo"),g(f,"class",E=O(`caret ${n[5]?"":"flip"}`)+" svelte-tg3npo"),g(l,"class","content svelte-tg3npo"),g(e,"class","container svelte-tg3npo")},m(o,m){C(o,e,m),v(e,l),v(l,t),v(t,i),v(i,s),v(t,r);for(let h=0;h<_.length;h+=1)_[h].m(t,null);v(l,D),v(l,f),v(f,u),v(l,A),ne(T,l,null),v(e,M),d&&d.m(e,null),V=!0,b||(G=[J(t,"click",n[10]),J(f,"click",n[11])],b=!0)},p(o,[m]){if((!V||m&17)&&a!==(a=o[4][o[0]].label+"")&&w(s,a),m&136){B=o[7];let p;for(p=0;p<B.length;p+=1){const N=X(o,B,p);_[p]?_[p].p(N,m):(_[p]=z(N),_[p].c(),_[p].m(t,null))}for(;p<_.length;p+=1)_[p].d(1);_.length=B.length}(!V||m&32&&E!==(E=O(`caret ${o[5]?"":"flip"}`)+" svelte-tg3npo"))&&g(f,"class",E);const h={};m&3&&(h.isEquipped=o[1].includes(o[0])),m&5&&(h.onClick=o[12]),m&3&&(h.isVisible=o[1].length<Q||o[1].includes(o[0])),T.$set(h),o[5]?d?d.p(o,m):(d=H(o),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},i(o){V||(ae(T.$$.fragment,o),V=!0)},o(o){oe(T.$$.fragment,o),V=!1},d(o){o&&c(e),re(_,o),fe(T),d&&d.d(),b=!1,ue(G)}}}function de(n,e,l){let t,i,a;var s;let{art:r}=e,{equippedCombatArts:D}=e,{onToggleCombatArts:f}=e,{allCombatArts:u}=e,{equippedWeaponTypes:E}=e,A=!1;const T=()=>l(5,A=!A),M=()=>l(5,A=!A),V=()=>f(r);return n.$$set=b=>{"art"in b&&l(0,r=b.art),"equippedCombatArts"in b&&l(1,D=b.equippedCombatArts),"onToggleCombatArts"in b&&l(2,f=b.onToggleCombatArts),"allCombatArts"in b&&l(8,u=b.allCombatArts),"equippedWeaponTypes"in b&&l(3,E=b.equippedWeaponTypes)},n.$$.update=()=>{n.$$.dirty&256&&l(4,t=u.fullFeatures),n.$$.dirty&529&&l(7,i=(l(9,s=t[r])===null||s===void 0?void 0:s.compatibleWeapons)||[]),n.$$.dirty&17&&l(6,a=pe(t[r],{disableDescription:!0}))},[r,D,f,E,t,A,a,i,u,s,T,M,V]}class qe extends ee{constructor(e){super(),le(this,e,de,_e,te,{art:0,equippedCombatArts:1,onToggleCombatArts:2,allCombatArts:8,equippedWeaponTypes:3})}}export{qe as default};
