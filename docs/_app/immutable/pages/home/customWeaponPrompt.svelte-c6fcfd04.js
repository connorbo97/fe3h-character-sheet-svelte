import{S as J,i as K,s as Y,l as C,r as w,a as W,m as T,n as A,u as E,h as v,c as S,p as k,b as I,J as m,K as U,v as D,E as V,a3 as z,o as G,Y as Q,a8 as N,T as Z,W as x}from"../../chunks/index-d5d48e27.js";import{C as $}from"../../chunks/constants-56e6b6a8.js";import{y as B}from"../../chunks/weaponLevel-1d872777.js";import"../../chunks/enums-eee6a708.js";function L(l,e,o){const f=l.slice();return f[15]=e[o],f}function M(l){let e,o,f,c=l[0],a=[];for(let s=0;s<c.length;s+=1)a[s]=X(L(l,c,s));return{c(){e=C("select");for(let s=0;s<a.length;s+=1)a[s].c()},l(s){e=T(s,"SELECT",{});var h=A(e);for(let t=0;t<a.length;t+=1)a[t].l(h);h.forEach(v)},m(s,h){I(s,e,h);for(let t=0;t<a.length;t+=1)a[t].m(e,null);o||(f=U(e,"change",l[10]),o=!0)},p(s,h){if(h&19){c=s[0];let t;for(t=0;t<c.length;t+=1){const r=L(s,c,t);a[t]?a[t].p(r,h):(a[t]=X(r),a[t].c(),a[t].m(e,null))}for(;t<a.length;t+=1)a[t].d(1);a.length=c.length}},d(s){s&&v(e),Q(a,s),o=!1,f()}}}function X(l){let e,o=l[1][l[15]].label+"",f,c,a=B(l[1][l[15]])+"",s,h,t,r;return{c(){e=C("option"),f=w(o),c=w(": "),s=w(a),h=W(),this.h()},l(i){e=T(i,"OPTION",{});var _=A(e);f=E(_,o),c=E(_,": "),s=E(_,a),h=S(_),_.forEach(v),this.h()},h(){e.__value=t=l[15],e.value=e.__value,e.selected=r=l[15]===l[4]},m(i,_){I(i,e,_),m(e,f),m(e,c),m(e,s),m(e,h)},p(i,_){_&3&&o!==(o=i[1][i[15]].label+"")&&D(f,o),_&3&&a!==(a=B(i[1][i[15]])+"")&&D(s,a),_&1&&t!==(t=i[15])&&(e.__value=t,e.value=e.__value),_&17&&r!==(r=i[15]===i[4])&&(e.selected=r)},d(i){i&&v(e)}}}function q(l){let e,o,f,c,a,s,h;return{c(){e=C("div"),o=C("div"),f=w("Reason:"),c=W(),a=C("textarea"),this.h()},l(t){e=T(t,"DIV",{class:!0});var r=A(e);o=T(r,"DIV",{});var i=A(o);f=E(i,"Reason:"),i.forEach(v),c=S(r),a=T(r,"TEXTAREA",{id:!0,type:!0,rows:!0,class:!0}),A(a).forEach(v),r.forEach(v),this.h()},h(){k(a,"id","custom-weapon-prompt-input"),k(a,"type","text"),k(a,"rows",3),k(a,"class","svelte-96eo25"),k(e,"class","content")},m(t,r){I(t,e,r),m(e,o),m(o,f),m(e,c),m(e,a),l[11](a),N(a,l[3]),s||(h=U(a,"input",l[12]),s=!0)},p(t,r){r&8&&N(a,t[3])},d(t){t&&v(e),l[11](null),s=!1,h()}}}function H(l){var h;let e,o,f,c,a=((h=l[2][l[0]])==null?void 0:h.reason)+"",s;return{c(){e=C("div"),o=C("b"),f=w("Current Reason:"),c=W(),s=w(a),this.h()},l(t){e=T(t,"DIV",{class:!0});var r=A(e);o=T(r,"B",{});var i=A(o);f=E(i,"Current Reason:"),i.forEach(v),c=S(r),s=E(r,a),r.forEach(v),this.h()},h(){k(e,"class","content")},m(t,r){I(t,e,r),m(e,o),m(o,f),m(e,c),m(e,s)},p(t,r){var i;r&5&&a!==(a=((i=t[2][t[0]])==null?void 0:i.reason)+"")&&D(s,a)},d(t){t&&v(e)}}}function ee(l){let e,o,f=l[5]?"Removing":"Adding",c,a,s,h=Array.isArray(l[0]),t,r,i,_,R,g=l[5]?"Remove":"Submit",y,j,P,p=h&&M(l),n=!l[5]&&q(l),d=l[5]&&H(l);return{c(){e=C("div"),o=C("h1"),c=w(f),a=w(" custom weapon:"),s=W(),p&&p.c(),t=W(),n&&n.c(),r=W(),d&&d.c(),i=W(),_=C("button"),R=w("Click to "),y=w(g),this.h()},l(b){e=T(b,"DIV",{class:!0});var u=A(e);o=T(u,"H1",{});var O=A(o);c=E(O,f),a=E(O," custom weapon:"),O.forEach(v),s=S(u),p&&p.l(u),t=S(u),n&&n.l(u),r=S(u),d&&d.l(u),i=S(u),_=T(u,"BUTTON",{class:!0});var F=A(_);R=E(F,"Click to "),y=E(F,g),F.forEach(v),u.forEach(v),this.h()},h(){k(_,"class","action svelte-96eo25"),k(e,"class","container svelte-96eo25")},m(b,u){I(b,e,u),m(e,o),m(o,c),m(o,a),m(e,s),p&&p.m(e,null),m(e,t),n&&n.m(e,null),m(e,r),d&&d.m(e,null),m(e,i),m(e,_),m(_,R),m(_,y),j||(P=U(_,"click",function(){Z(l[7])&&l[7].apply(this,arguments)}),j=!0)},p(b,[u]){l=b,u&32&&f!==(f=l[5]?"Removing":"Adding")&&D(c,f),u&1&&(h=Array.isArray(l[0])),h?p?p.p(l,u):(p=M(l),p.c(),p.m(e,t)):p&&(p.d(1),p=null),l[5]?n&&(n.d(1),n=null):n?n.p(l,u):(n=q(l),n.c(),n.m(e,r)),l[5]?d?d.p(l,u):(d=H(l),d.c(),d.m(e,i)):d&&(d.d(1),d=null),u&32&&g!==(g=l[5]?"Remove":"Submit")&&D(y,g)},i:V,o:V,d(b){b&&v(e),p&&p.d(),n&&n.d(),d&&d.d(),j=!1,P()}}}function te(l,e,o){let f,c;var a=this&&this.__rest||function(n,d){var b={};for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&d.indexOf(u)<0&&(b[u]=n[u]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var O=0,u=Object.getOwnPropertySymbols(n);O<u.length;O++)d.indexOf(u[O])<0&&Object.prototype.propertyIsEnumerable.call(n,u[O])&&(b[u[O]]=n[u[O]]);return b};const{close:s}=z($.MODAL);let{defaultReason:h=""}=e,{weapon:t}=e,{weaponsToFeatures:r}=e,{customWeapons:i}=e,{onUpdateCustomWeapons:_}=e,R=h,g,y=Array.isArray(t)?t[0]:t;G(()=>{g==null||g.select()});const j=n=>o(4,y=n.currentTarget.value);function P(n){x[n?"unshift":"push"](()=>{g=n,o(6,g)})}function p(){R=this.value,o(3,R)}return l.$$set=n=>{"defaultReason"in n&&o(8,h=n.defaultReason),"weapon"in n&&o(0,t=n.weapon),"weaponsToFeatures"in n&&o(1,r=n.weaponsToFeatures),"customWeapons"in n&&o(2,i=n.customWeapons),"onUpdateCustomWeapons"in n&&o(9,_=n.onUpdateCustomWeapons)},l.$$.update=()=>{l.$$.dirty&5&&o(5,f=Array.isArray(t)?!1:i[t]),l.$$.dirty&572&&o(7,c=()=>{if(f){const n=i,d=y;n[d];const b=a(n,[typeof d=="symbol"?d:d+""]);_(b)}else _(Object.assign(Object.assign({},i),{[y]:Object.assign(Object.assign({},i[y]),{reason:R})}));s()})},[t,r,i,R,y,f,g,c,h,_,j,P,p]}class se extends J{constructor(e){super(),K(this,e,te,ee,Y,{defaultReason:8,weapon:0,weaponsToFeatures:1,customWeapons:2,onUpdateCustomWeapons:9})}}export{se as default};
