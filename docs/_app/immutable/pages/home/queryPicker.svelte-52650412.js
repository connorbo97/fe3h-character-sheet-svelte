import{S as M,i as R,s as W,l as g,m as q,n as E,h as f,p as v,b as K,E as j,Y as G,r as C,a as P,u as O,c as T,Q as w,J as u,K as X,v as J}from"../../chunks/index-d5d48e27.js";function z(s,e,a){var i;const t=s.slice();t[4]=e[a];const n=(i=t[1])==null?void 0:i[t[4].key||""];return t[5]=n,t}function A(s,e,a){const t=s.slice();return t[8]=e[a],t[10]=a,t}function B(s){let e,a=s[8].label+"",t,n;return{c(){e=g("option"),t=C(a),this.h()},l(i){e=q(i,"OPTION",{});var l=E(e);t=O(l,a),l.forEach(f),this.h()},h(){e.__value=s[10],e.value=e.__value,e.selected=n=s[5]===s[8]},m(i,l){K(i,e,l),u(e,t)},p(i,l){l&1&&a!==(a=i[8].label+"")&&J(t,a),l&3&&n!==(n=i[5]===i[8])&&(e.selected=n)},d(i){i&&f(e)}}}function F(s){var N;let e,a,t=s[4].prompt+"",n,i,l,o,p,m,Q,k,y=(((N=s[5])==null?void 0:N.description)||"")+"",S,D,V,L,b=s[4].options,h=[];for(let c=0;c<b.length;c+=1)h[c]=B(A(s,b,c));function H(...c){return s[3](s[4],...c)}return{c(){e=g("div"),a=g("div"),n=C(t),i=P(),l=g("div"),o=g("select");for(let c=0;c<h.length;c+=1)h[c].c();Q=P(),k=g("div"),S=C(y),D=P(),this.h()},l(c){e=q(c,"DIV",{class:!0});var _=E(e);a=q(_,"DIV",{class:!0});var d=E(a);n=O(d,t),d.forEach(f),i=T(_),l=q(_,"DIV",{class:!0});var r=E(l);o=q(r,"SELECT",{class:!0,name:!0});var I=E(o);for(let U=0;U<h.length;U+=1)h[U].l(I);I.forEach(f),Q=T(r),k=q(r,"DIV",{class:!0});var Y=E(k);S=O(Y,y),Y.forEach(f),r.forEach(f),D=T(_),_.forEach(f),this.h()},h(){v(a,"class","prompt svelte-1sp4qn5"),v(o,"class",p=w(s[1]&&s[5]!==s[4].options[0]?"selected":"")+" svelte-1sp4qn5"),v(o,"name",m=s[4].prompt),v(k,"class","description"),v(l,"class","selection svelte-1sp4qn5"),v(e,"class","query svelte-1sp4qn5")},m(c,_){K(c,e,_),u(e,a),u(a,n),u(e,i),u(e,l),u(l,o);for(let d=0;d<h.length;d+=1)h[d].m(o,null);u(l,Q),u(l,k),u(k,S),u(e,D),V||(L=X(o,"change",H),V=!0)},p(c,_){var d;if(s=c,_&1&&t!==(t=s[4].prompt+"")&&J(n,t),_&3){b=s[4].options;let r;for(r=0;r<b.length;r+=1){const I=A(s,b,r);h[r]?h[r].p(I,_):(h[r]=B(I),h[r].c(),h[r].m(o,null))}for(;r<h.length;r+=1)h[r].d(1);h.length=b.length}_&3&&p!==(p=w(s[1]&&s[5]!==s[4].options[0]?"selected":"")+" svelte-1sp4qn5")&&v(o,"class",p),_&1&&m!==(m=s[4].prompt)&&v(o,"name",m),_&3&&y!==(y=(((d=s[5])==null?void 0:d.description)||"")+"")&&J(S,y)},d(c){c&&f(e),G(h,c),V=!1,L()}}}function Z(s){let e,a=s[0],t=[];for(let n=0;n<a.length;n+=1)t[n]=F(z(s,a,n));return{c(){e=g("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=q(n,"DIV",{class:!0});var i=E(e);for(let l=0;l<t.length;l+=1)t[l].l(i);i.forEach(f),this.h()},h(){v(e,"class","container svelte-1sp4qn5")},m(n,i){K(n,e,i);for(let l=0;l<t.length;l+=1)t[l].m(e,null)},p(n,[i]){if(i&7){a=n[0];let l;for(l=0;l<a.length;l+=1){const o=z(n,a,l);t[l]?t[l].p(o,i):(t[l]=F(o),t[l].c(),t[l].m(e,null))}for(;l<t.length;l+=1)t[l].d(1);t.length=a.length}},i:j,o:j,d(n){n&&f(e),G(t,n)}}}function x(s,e,a){let{queries:t}=e,{selections:n}=e,{onUpdateQuerySelection:i}=e;const l=(o,p)=>{var m;i(o.key,o.options[parseInt((m=p==null?void 0:p.currentTarget)==null?void 0:m.value)])};return s.$$set=o=>{"queries"in o&&a(0,t=o.queries),"selections"in o&&a(1,n=o.selections),"onUpdateQuerySelection"in o&&a(2,i=o.onUpdateQuerySelection)},[t,n,i,l]}class ee extends M{constructor(e){super(),R(this,e,x,Z,W,{queries:0,selections:1,onUpdateQuerySelection:2})}}export{ee as default};
